{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=\"/api/home\";// adapte si besoin\nconst Documents=()=>{const[documents,setDocuments]=useState([]);const[dragActive,setDragActive]=useState(false);const inputRef=useRef(null);useEffect(()=>{fetchDocuments();},[]);const fetchDocuments=async()=>{try{const res=await axios.get(API_URL);setDocuments(res.data);}catch(err){console.error(err);}};const handleDelete=async id=>{// Prépare la suppression (à implémenter côté backend)\n// await axios.delete(`${API_URL}/${id}`);\n// fetchDocuments();\nalert(`Suppression du document id: ${id} (à implémenter)`);};const handleEdit=doc=>{// Prépare l'édition (ouvrir un modal ou une page d'édition)\nalert(`Édition du document id: ${doc.id} (à implémenter)`);};const handleDrag=e=>{e.preventDefault();e.stopPropagation();if(e.type===\"dragenter\"||e.type===\"dragover\"){setDragActive(true);}else if(e.type===\"dragleave\"){setDragActive(false);}};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);if(e.dataTransfer.files&&e.dataTransfer.files[0]){// Gérer les fichiers ici\nconsole.log(e.dataTransfer.files);}};const handleChange=e=>{if(e.target.files&&e.target.files[0]){// Gérer les fichiers ici\nconsole.log(e.target.files);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Documents\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onDragEnter:handleDrag,onSubmit:e=>e.preventDefault(),style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"file\",multiple:true,style:{display:\"none\"},onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>inputRef.current.click(),onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:handleDrop,style:{border:\"2px dashed #aaa\",borderRadius:\"8px\",padding:\"40px\",textAlign:\"center\",background:dragActive?\"#f0f8ff\":\"#fff\",cursor:\"pointer\",transition:\"background 0.2s\"},children:/*#__PURE__*/_jsx(\"p\",{children:\"D\\xE9posez vos fichiers ici ou cliquez pour s\\xE9lectionner\"})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"2rem\"},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Chemin\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[documents.map(doc=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:doc.id}),/*#__PURE__*/_jsx(\"td\",{children:doc.nom}),/*#__PURE__*/_jsx(\"td\",{children:doc.chemin}),/*#__PURE__*/_jsx(\"td\",{children:doc.type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(doc),children:\"\\xC9diter\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(doc.id),style:{marginLeft:8,color:\"red\"},children:\"Supprimer\"})]})]},doc.id)),documents.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:5,style:{textAlign:\"center\"},children:\"Aucun document\"})})]})]})})]});};export default Documents;","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","Documents","documents","setDocuments","dragActive","setDragActive","inputRef","fetchDocuments","res","get","data","err","console","error","handleDelete","id","alert","handleEdit","doc","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","dataTransfer","files","log","handleChange","target","children","onDragEnter","onSubmit","style","position","ref","multiple","display","onChange","onClick","current","click","onDragLeave","onDragOver","onDrop","border","borderRadius","padding","textAlign","background","cursor","transition","marginTop","width","borderCollapse","map","nom","chemin","marginLeft","color","length","colSpan"],"sources":["D:/Stage/MarineV3/frontend/src/components/pages/Admin/Documents.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"/api/home\"; // adapte si besoin\r\n\r\nconst Documents = () => {\r\n    const [documents, setDocuments] = useState([]);\r\n    const [dragActive, setDragActive] = useState(false);\r\n    const inputRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        fetchDocuments();\r\n    }, []);\r\n\r\n    const fetchDocuments = async () => {\r\n        try {\r\n            const res = await axios.get(API_URL);\r\n            setDocuments(res.data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        // Prépare la suppression (à implémenter côté backend)\r\n        // await axios.delete(`${API_URL}/${id}`);\r\n        // fetchDocuments();\r\n        alert(`Suppression du document id: ${id} (à implémenter)`);\r\n    };\r\n\r\n    const handleEdit = (doc) => {\r\n        // Prépare l'édition (ouvrir un modal ou une page d'édition)\r\n        alert(`Édition du document id: ${doc.id} (à implémenter)`);\r\n    };\r\n\r\n    const handleDrag = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n            setDragActive(true);\r\n        } else if (e.type === \"dragleave\") {\r\n            setDragActive(false);\r\n        }\r\n    };\r\n\r\n    const handleDrop = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        setDragActive(false);\r\n        if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n            // Gérer les fichiers ici\r\n            console.log(e.dataTransfer.files);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            // Gérer les fichiers ici\r\n            console.log(e.target.files);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <h2>Documents</h2>\r\n            </div>\r\n            <div>\r\n                <form\r\n                    onDragEnter={handleDrag}\r\n                    onSubmit={(e) => e.preventDefault()}\r\n                    style={{ position: \"relative\" }}\r\n                >\r\n                    <input\r\n                        ref={inputRef}\r\n                        type=\"file\"\r\n                        multiple\r\n                        style={{ display: \"none\" }}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <div\r\n                        onClick={() => inputRef.current.click()}\r\n                        onDragEnter={handleDrag}\r\n                        onDragLeave={handleDrag}\r\n                        onDragOver={handleDrag}\r\n                        onDrop={handleDrop}\r\n                        style={{\r\n                            border: \"2px dashed #aaa\",\r\n                            borderRadius: \"8px\",\r\n                            padding: \"40px\",\r\n                            textAlign: \"center\",\r\n                            background: dragActive ? \"#f0f8ff\" : \"#fff\",\r\n                            cursor: \"pointer\",\r\n                            transition: \"background 0.2s\",\r\n                        }}\r\n                    >\r\n                        <p>Déposez vos fichiers ici ou cliquez pour sélectionner</p>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div style={{ marginTop: \"2rem\" }}>\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Nom</th>\r\n                            <th>Chemin</th>\r\n                            <th>Type</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {documents.map((doc) => (\r\n                            <tr key={doc.id}>\r\n                                <td>{doc.id}</td>\r\n                                <td>{doc.nom}</td>\r\n                                <td>{doc.chemin}</td>\r\n                                <td>{doc.type}</td>\r\n                                <td>\r\n                                    <button onClick={() => handleEdit(doc)}>Éditer</button>\r\n                                    <button onClick={() => handleDelete(doc.id)} style={{ marginLeft: 8, color: \"red\" }}>\r\n                                        Supprimer\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        {documents.length === 0 && (\r\n                            <tr>\r\n                                <td colSpan={5} style={{ textAlign: \"center\" }}>Aucun document</td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Documents;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}