{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import'leaflet/dist/leaflet.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_API_URL;const DetailsRapport=_ref=>{var _metaData$localisatio,_metaData$localisatio2,_metaData$typeCible,_metaData$cible,_metaData$cible2,_metaData$cible3,_metaData$cible4,_metaData$cible5,_metaData$localisatio3,_metaData$localisatio4,_metaData$localisatio5,_metaData$localisatio6,_metaData$meteo,_ref2,_metaData$meteo$force,_metaData$meteo2,_ref3,_metaData$meteo$etat_,_metaData$meteo3,_ref4,_metaData$meteo$nebul,_metaData$meteo4,_metaData$meteo5,_metaData$alertes,_metaData$alertes2,_metaData$alertes3,_metaData$alertes4,_metaData$alertes5,_metaData$alertes6,_metaData$alertes7,_metaData$alertes8,_metaData$alertes9,_metaData$alertes10,_metaData$alertes11,_metaData$alertes12;let{rapportSelectionne,formatDate,getOperateurNom,getTypeEvenementLibelle,getSousTypeEvenementLibelle,getOrigineEvenementLibelle,getZoneNom,historique}=_ref;const mapRef=useRef(null);const leafletMapRef=useRef(null);const[detailedRapport,setDetailedRapport]=useState(null);const[loading,setLoading]=useState(false);const[expandedSections,setExpandedSections]=useState({infos:true,description:true,cible:false,localisation:false,meteo:false,alertes:false,responsable:false,acces:false,infosSupp:false,historique:false});// Fonction pour basculer l'√©tat d'une section\nconst toggleSection=section=>{setExpandedSections(prev=>({...prev,[section]:!prev[section]}));};// Fonction pour charger les d√©tails complets du rapport\nconst loadDetailedRapport=async rapportId=>{if(!rapportId)return;setLoading(true);try{const response=await axios.get(`${API}/rapports/${rapportId}`);const rapportData=response.data.rapport||response.data;const metaData=response.data.metaData||{};console.log('üìÑ Donn√©es d√©taill√©es du rapport :',rapportData);console.log('üìÑ MetaData associ√©es :',metaData);setDetailedRapport({...rapportData,metaData});}catch(error){console.error('Erreur lors du chargement des d√©tails du rapport:',error);}finally{setLoading(false);}};// Charger les d√©tails quand le rapport s√©lectionn√© change\nuseEffect(()=>{if(rapportSelectionne!==null&&rapportSelectionne!==void 0&&rapportSelectionne.id_rapport){loadDetailedRapport(rapportSelectionne.id_rapport);}},[rapportSelectionne===null||rapportSelectionne===void 0?void 0:rapportSelectionne.id_rapport]);// Ajout : fonction pour charger Leaflet si besoin\nconst loadLeaflet=()=>{return new Promise(resolve=>{if(window.L){resolve();}else{const script=document.createElement('script');script.src=\"https://unpkg.com/leaflet/dist/leaflet.js\";script.onload=resolve;document.body.appendChild(script);}});};// Fonction pour v√©rifier si on a des coordonn√©es valides\nconst hasValidCoordinates=()=>{var _detailedRapport$meta,_detailedRapport$meta2,_detailedRapport$meta3,_detailedRapport$meta4;const rapport=detailedRapport||rapportSelectionne;const latitude=(detailedRapport===null||detailedRapport===void 0?void 0:(_detailedRapport$meta=detailedRapport.metaData)===null||_detailedRapport$meta===void 0?void 0:(_detailedRapport$meta2=_detailedRapport$meta.localisation)===null||_detailedRapport$meta2===void 0?void 0:_detailedRapport$meta2.latitude)||(rapportSelectionne===null||rapportSelectionne===void 0?void 0:rapportSelectionne.latitude);const longitude=(detailedRapport===null||detailedRapport===void 0?void 0:(_detailedRapport$meta3=detailedRapport.metaData)===null||_detailedRapport$meta3===void 0?void 0:(_detailedRapport$meta4=_detailedRapport$meta3.localisation)===null||_detailedRapport$meta4===void 0?void 0:_detailedRapport$meta4.longitude)||(rapportSelectionne===null||rapportSelectionne===void 0?void 0:rapportSelectionne.longitude);return latitude&&longitude&&!isNaN(parseFloat(latitude))&&!isNaN(parseFloat(longitude))&&latitude!==\"Non d√©finie\"&&longitude!==\"Non d√©finie\";};useEffect(()=>{let isMounted=true;async function initMap(){if(!hasValidCoordinates()||!mapRef.current||!expandedSections.localisation)return;// Attendre que l'animation d'ouverture soit termin√©e\nawait new Promise(resolve=>setTimeout(resolve,350));if(!isMounted)return;try{var _detailedRapport$meta5,_detailedRapport$meta6,_detailedRapport$meta7,_detailedRapport$meta8;await loadLeaflet();if(!isMounted||!mapRef.current)return;// Nettoyer la carte existante\nif(leafletMapRef.current){leafletMapRef.current.remove();leafletMapRef.current=null;}const latitude=(detailedRapport===null||detailedRapport===void 0?void 0:(_detailedRapport$meta5=detailedRapport.metaData)===null||_detailedRapport$meta5===void 0?void 0:(_detailedRapport$meta6=_detailedRapport$meta5.localisation)===null||_detailedRapport$meta6===void 0?void 0:_detailedRapport$meta6.latitude)||(rapportSelectionne===null||rapportSelectionne===void 0?void 0:rapportSelectionne.latitude);const longitude=(detailedRapport===null||detailedRapport===void 0?void 0:(_detailedRapport$meta7=detailedRapport.metaData)===null||_detailedRapport$meta7===void 0?void 0:(_detailedRapport$meta8=_detailedRapport$meta7.localisation)===null||_detailedRapport$meta8===void 0?void 0:_detailedRapport$meta8.longitude)||(rapportSelectionne===null||rapportSelectionne===void 0?void 0:rapportSelectionne.longitude);const lat=parseFloat(latitude);const lng=parseFloat(longitude);if(isNaN(lat)||isNaN(lng))return;// V√©rifier les dimensions du conteneur\nconst rect=mapRef.current.getBoundingClientRect();console.log('Dimensions du conteneur:',rect);if(rect.height===0){console.warn('Conteneur toujours sans hauteur');return;}leafletMapRef.current=window.L.map(mapRef.current).setView([lat,lng],10);window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; OpenStreetMap contributors'}).addTo(leafletMapRef.current);window.L.marker([lat,lng]).addTo(leafletMapRef.current);// D√©sactiver les interactions\nleafletMapRef.current.dragging.disable();leafletMapRef.current.touchZoom.disable();leafletMapRef.current.doubleClickZoom.disable();leafletMapRef.current.scrollWheelZoom.disable();leafletMapRef.current.boxZoom.disable();leafletMapRef.current.keyboard.disable();if(leafletMapRef.current.tap)leafletMapRef.current.tap.disable();}catch(error){console.error('Erreur lors de l\\'initialisation de la carte:',error);}}initMap();return()=>{isMounted=false;if(leafletMapRef.current){leafletMapRef.current.remove();leafletMapRef.current=null;}};},[detailedRapport,rapportSelectionne,expandedSections.localisation,hasValidCoordinates]);// Fonction pour obtenir l'ic√¥ne de statut\nconst getStatusIcon=value=>{if(value===\"Oui\"||value===1||value===true){return/*#__PURE__*/_jsx(\"span\",{className:\"status-icon status-yes\",children:\"\\u2713\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"status-icon status-no\",children:\"\\u2717\"});};if(!rapportSelectionne)return null;const rapport=detailedRapport||rapportSelectionne;const metaData=(detailedRapport===null||detailedRapport===void 0?void 0:detailedRapport.metaData)||{};if(loading&&!detailedRapport){return/*#__PURE__*/_jsx(\"div\",{className:\"details-rapport\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des d\\xE9tails du rapport...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"details-rapport\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-title-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:rapport.titre}),/*#__PURE__*/_jsx(\"div\",{className:\"rapport-meta\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"rapport-id\",children:[\"ID: \",rapport.id_rapport]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rapport-status\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-dates\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"date-label\",children:\"Cr\\xE9\\xE9 le\"}),/*#__PURE__*/_jsx(\"span\",{className:\"date-value\",children:formatDate(rapport.date_creation)})]}),rapport.date_modification&&/*#__PURE__*/_jsxs(\"div\",{className:\"date-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"date-label\",children:\"Modifi\\xE9 le\"}),/*#__PURE__*/_jsx(\"span\",{className:\"date-value\",children:formatDate(rapport.date_modification)})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-sections\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('infos'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDCCB\"}),\"Informations principales\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.infos?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.infos&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Date de l'\\xE9v\\xE9nement\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:formatDate(rapport.date_evenement)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Type d'\\xE9v\\xE9nement\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value info-tag type\",children:getTypeEvenementLibelle(rapport.id_type_evenement)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Sous-type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value info-tag sous-type\",children:getSousTypeEvenementLibelle(rapport.id_sous_type_evenement)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Origine\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value info-tag origine\",children:getOrigineEvenementLibelle(rapport.id_origine_evenement)})]}),(((_metaData$localisatio=metaData.localisation)===null||_metaData$localisatio===void 0?void 0:_metaData$localisatio.id_zone)||rapport.id_zone_lieu)&&/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Zone g\\xE9ographique\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value info-tag zone\",children:getZoneNom(((_metaData$localisatio2=metaData.localisation)===null||_metaData$localisatio2===void 0?void 0:_metaData$localisatio2.id_zone)||rapport.id_zone_lieu)})]})]})})]}),rapport.description_globale&&/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('description'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDCDD\"}),\"Description globale\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.description?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.description&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"description-content\",children:rapport.description_globale})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('cible'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83C\\uDFAF\"}),\"Cible de l'\\xE9v\\xE9nement\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.cible?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.cible&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Type de cible\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$typeCible=metaData.typeCible)===null||_metaData$typeCible===void 0?void 0:_metaData$typeCible.libelle)||rapport.type_cible_libelle||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Nom de la cible\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$cible=metaData.cible)===null||_metaData$cible===void 0?void 0:_metaData$cible.nom)||rapport.nom_cible||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Pavillon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$cible2=metaData.cible)===null||_metaData$cible2===void 0?void 0:_metaData$cible2.pavillon)||rapport.pavillon_cible||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Immatriculation\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$cible3=metaData.cible)===null||_metaData$cible3===void 0?void 0:_metaData$cible3.immatriculation)||rapport.immatriculation||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Type de produit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$cible4=metaData.cible)===null||_metaData$cible4===void 0?void 0:_metaData$cible4.TypeProduit)||rapport.TypeProduit||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Quantit\\xE9 de produit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$cible5=metaData.cible)===null||_metaData$cible5===void 0?void 0:_metaData$cible5.QuantiteProduit)||rapport.QuantiteProduit||\"Non d√©finie\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('localisation'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDCCD\"}),\"Localisation\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.localisation?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.localisation&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Zone g\\xE9ographique\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:getZoneNom(((_metaData$localisatio3=metaData.localisation)===null||_metaData$localisatio3===void 0?void 0:_metaData$localisatio3.id_zone)||rapport.id_zone_lieu)||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Pr\\xE9cision sur le lieu\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$localisatio4=metaData.localisation)===null||_metaData$localisatio4===void 0?void 0:_metaData$localisatio4.details_lieu)||rapport.details_lieu||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Coordonn\\xE9es\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value coordinates\",children:hasValidCoordinates()?`${((_metaData$localisatio5=metaData.localisation)===null||_metaData$localisatio5===void 0?void 0:_metaData$localisatio5.latitude)||rapport.latitude}, ${((_metaData$localisatio6=metaData.localisation)===null||_metaData$localisatio6===void 0?void 0:_metaData$localisatio6.longitude)||rapport.longitude}`:\"Non d√©finies\"})]})]}),hasValidCoordinates()&&/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",children:/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"map-display\",id:`map-details-rapport-${rapport.id_rapport}`})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('meteo'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83C\\uDF24\\uFE0F\"}),\"Conditions m\\xE9t\\xE9orologiques\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.meteo?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.meteo&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Direction du vent\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$meteo=metaData.meteo)===null||_metaData$meteo===void 0?void 0:_metaData$meteo.direction_vent)||rapport.direction_vent||\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Force du vent\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:(_ref2=(_metaData$meteo$force=(_metaData$meteo2=metaData.meteo)===null||_metaData$meteo2===void 0?void 0:_metaData$meteo2.force_vent)!==null&&_metaData$meteo$force!==void 0?_metaData$meteo$force:rapport.force_vent)!==null&&_ref2!==void 0?_ref2:\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"\\xC9tat de la mer\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:(_ref3=(_metaData$meteo$etat_=(_metaData$meteo3=metaData.meteo)===null||_metaData$meteo3===void 0?void 0:_metaData$meteo3.etat_mer)!==null&&_metaData$meteo$etat_!==void 0?_metaData$meteo$etat_:rapport.etat_mer)!==null&&_ref3!==void 0?_ref3:\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"N\\xE9bulosit\\xE9\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:(_ref4=(_metaData$meteo$nebul=(_metaData$meteo4=metaData.meteo)===null||_metaData$meteo4===void 0?void 0:_metaData$meteo4.nebulosite)!==null&&_metaData$meteo$nebul!==void 0?_metaData$meteo$nebul:rapport.nebulosite)!==null&&_ref4!==void 0?_ref4:\"Non d√©finie\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Mar\\xE9e\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$meteo5=metaData.meteo)===null||_metaData$meteo5===void 0?void 0:_metaData$meteo5.maree)||rapport.maree||\"Non d√©finie\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('alertes'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDEA8\"}),\"Contacts et alertes\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.alertes?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.alertes&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alertes-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"CEDRE alert\\xE9\"}),getStatusIcon(((_metaData$alertes=metaData.alertes)===null||_metaData$alertes===void 0?void 0:_metaData$alertes.cedre)===1||rapport.cedre?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"CROSS alert\\xE9\"}),getStatusIcon(((_metaData$alertes2=metaData.alertes)===null||_metaData$alertes2===void 0?void 0:_metaData$alertes2.cross_contact)===1||rapport.cross_contact?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"Photo\"}),getStatusIcon(((_metaData$alertes3=metaData.alertes)===null||_metaData$alertes3===void 0?void 0:_metaData$alertes3.photo)===1||rapport.photo?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"POLREP\"}),getStatusIcon(((_metaData$alertes4=metaData.alertes)===null||_metaData$alertes4===void 0?void 0:_metaData$alertes4.polrep)===1||rapport.polrep?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"D\\xE9rive MOTHY\"}),getStatusIcon(((_metaData$alertes5=metaData.alertes)===null||_metaData$alertes5===void 0?void 0:_metaData$alertes5.derive_mothy)===1||rapport.derive_mothym?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"POLMAR Terre\"}),getStatusIcon(((_metaData$alertes6=metaData.alertes)===null||_metaData$alertes6===void 0?void 0:_metaData$alertes6.pne)===1||rapport.pne?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"SMP\"}),getStatusIcon(((_metaData$alertes7=metaData.alertes)===null||_metaData$alertes7===void 0?void 0:_metaData$alertes7.smp)===1||rapport.smp?\"Oui\":\"Non\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerte-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alerte-label\",children:\"BSAA\"}),getStatusIcon(((_metaData$alertes8=metaData.alertes)===null||_metaData$alertes8===void 0?void 0:_metaData$alertes8.bsaa)===1||rapport.bsaa?\"Oui\":\"Non\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"moyens-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Moyens et risques\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Moyens \\xE0 proximit\\xE9\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$alertes9=metaData.alertes)===null||_metaData$alertes9===void 0?void 0:_metaData$alertes9.moyen_proximite)||rapport.moyen_proximite||\"Non d√©fini\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Moyens d\\xE9p\\xEAch\\xE9s\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$alertes10=metaData.alertes)===null||_metaData$alertes10===void 0?void 0:_metaData$alertes10.moyen_depeche)||rapport.moyen_depeche||\"Non d√©fini\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Risque court terme\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$alertes11=metaData.alertes)===null||_metaData$alertes11===void 0?void 0:_metaData$alertes11.risque_court_terme)||rapport.risque_court_terme||\"Non d√©fini\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Risque moyen/long terme\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:((_metaData$alertes12=metaData.alertes)===null||_metaData$alertes12===void 0?void 0:_metaData$alertes12.risque_moyen_long_terme)||rapport.risque_moyen_long_terme||\"Non d√©fini\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('responsable'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDC64\"}),\"Responsable\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.responsable?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.responsable&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"responsable-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:getOperateurNom(rapport.id_operateur).substring(0,1).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"responsable-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsable-nom\",children:getOperateurNom(rapport.id_operateur)}),/*#__PURE__*/_jsxs(\"div\",{className:\"responsable-date\",children:[\"Cr\\xE9\\xE9 le \",formatDate(rapport.date_creation)]}),rapport.id_operateur_modification&&/*#__PURE__*/_jsxs(\"div\",{className:\"responsable-modification\",children:[\"Modifi\\xE9 par \",getOperateurNom(rapport.id_operateur_modification),\" le \",formatDate(rapport.date_modification)]})]})]})})]}),rapport.operateurs_acces&&rapport.operateurs_acces.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('acces'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDC65\"}),\"Acc\\xE8s partag\\xE9s\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.acces?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.acces&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"acces-liste\",children:rapport.operateurs_acces.map(opId=>/*#__PURE__*/_jsxs(\"div\",{className:\"acces-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"acces-avatar\",children:getOperateurNom(opId).substring(0,1).toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"acces-nom\",children:getOperateurNom(opId)})]},opId))})})]}),rapport.informations_supplementaires&&/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('infosSupp'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\u2139\\uFE0F\"}),\"Informations suppl\\xE9mentaires\"]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.infosSupp?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.infosSupp&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"infos-supp-content\",children:rapport.informations_supplementaires})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rapport-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",onClick:()=>toggleSection('historique'),children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-icon\",children:\"\\uD83D\\uDCCA\"}),\"Historique des actions\",/*#__PURE__*/_jsxs(\"span\",{className:\"historique-count\",children:[\"(\",(historique===null||historique===void 0?void 0:historique.length)||0,\")\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:`expand-icon ${expandedSections.historique?'expanded':''}`,children:\"\\u25BC\"})]}),expandedSections.historique&&/*#__PURE__*/_jsx(\"div\",{className:\"section-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"historique-timeline\",children:historique&&historique.length>0?historique.map((action,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-marker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"timeline-date\",children:new Date(action.date_action).toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'})}),action.type_action&&/*#__PURE__*/_jsx(\"span\",{className:\"timeline-type\",children:action.type_action}),action.id_operateur&&/*#__PURE__*/_jsx(\"span\",{className:\"timeline-operator\",children:getOperateurNom(action.id_operateur)})]}),action.detail_action&&/*#__PURE__*/_jsx(\"div\",{className:\"timeline-detail\",children:action.detail_action})]})]},idx)):/*#__PURE__*/_jsx(\"div\",{className:\"no-historique\",children:\"Aucun historique disponible.\"})})})]})]})]});};export default DetailsRapport;","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_API_URL","DetailsRapport","_ref","_metaData$localisatio","_metaData$localisatio2","_metaData$typeCible","_metaData$cible","_metaData$cible2","_metaData$cible3","_metaData$cible4","_metaData$cible5","_metaData$localisatio3","_metaData$localisatio4","_metaData$localisatio5","_metaData$localisatio6","_metaData$meteo","_ref2","_metaData$meteo$force","_metaData$meteo2","_ref3","_metaData$meteo$etat_","_metaData$meteo3","_ref4","_metaData$meteo$nebul","_metaData$meteo4","_metaData$meteo5","_metaData$alertes","_metaData$alertes2","_metaData$alertes3","_metaData$alertes4","_metaData$alertes5","_metaData$alertes6","_metaData$alertes7","_metaData$alertes8","_metaData$alertes9","_metaData$alertes10","_metaData$alertes11","_metaData$alertes12","rapportSelectionne","formatDate","getOperateurNom","getTypeEvenementLibelle","getSousTypeEvenementLibelle","getOrigineEvenementLibelle","getZoneNom","historique","mapRef","leafletMapRef","detailedRapport","setDetailedRapport","loading","setLoading","expandedSections","setExpandedSections","infos","description","cible","localisation","meteo","alertes","responsable","acces","infosSupp","toggleSection","section","prev","loadDetailedRapport","rapportId","response","get","rapportData","data","rapport","metaData","console","log","error","id_rapport","loadLeaflet","Promise","resolve","window","L","script","document","createElement","src","onload","body","appendChild","hasValidCoordinates","_detailedRapport$meta","_detailedRapport$meta2","_detailedRapport$meta3","_detailedRapport$meta4","latitude","longitude","isNaN","parseFloat","isMounted","initMap","current","setTimeout","_detailedRapport$meta5","_detailedRapport$meta6","_detailedRapport$meta7","_detailedRapport$meta8","remove","lat","lng","rect","getBoundingClientRect","height","warn","map","setView","tileLayer","attribution","addTo","marker","dragging","disable","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tap","getStatusIcon","value","className","children","titre","date_creation","date_modification","onClick","date_evenement","id_type_evenement","id_sous_type_evenement","id_origine_evenement","id_zone","id_zone_lieu","description_globale","typeCible","libelle","type_cible_libelle","nom","nom_cible","pavillon","pavillon_cible","immatriculation","TypeProduit","QuantiteProduit","details_lieu","ref","id","direction_vent","force_vent","etat_mer","nebulosite","maree","cedre","cross_contact","photo","polrep","derive_mothy","derive_mothym","pne","smp","bsaa","moyen_proximite","moyen_depeche","risque_court_terme","risque_moyen_long_terme","id_operateur","substring","toUpperCase","id_operateur_modification","operateurs_acces","length","opId","informations_supplementaires","action","idx","Date","date_action","toLocaleDateString","day","month","year","hour","minute","type_action","detail_action"],"sources":["D:/Stage/MarineV3/frontend/src/components/pages/ListeRapport/DetailsRapport.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport 'leaflet/dist/leaflet.css';\r\nimport axios from 'axios';\r\n\r\nconst API = process.env.REACT_APP_API_URL;\r\n\r\nconst DetailsRapport = ({\r\n  rapportSelectionne,\r\n  formatDate,\r\n  getOperateurNom,\r\n  getTypeEvenementLibelle,\r\n  getSousTypeEvenementLibelle,\r\n  getOrigineEvenementLibelle,\r\n  getZoneNom,\r\n  historique,\r\n}) => {\r\n  const mapRef = useRef(null);\r\n  const leafletMapRef = useRef(null);\r\n  const [detailedRapport, setDetailedRapport] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [expandedSections, setExpandedSections] = useState({\r\n    infos: true,\r\n    description: true,\r\n    cible: false,\r\n    localisation: false,\r\n    meteo: false,\r\n    alertes: false,\r\n    responsable: false,\r\n    acces: false,\r\n    infosSupp: false,\r\n    historique: false\r\n  });\r\n\r\n  // Fonction pour basculer l'√©tat d'une section\r\n  const toggleSection = (section) => {\r\n    setExpandedSections(prev => ({\r\n      ...prev,\r\n      [section]: !prev[section]\r\n    }));\r\n  };\r\n\r\n  // Fonction pour charger les d√©tails complets du rapport\r\n  const loadDetailedRapport = async (rapportId) => {\r\n    if (!rapportId) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(`${API}/rapports/${rapportId}`);\r\n      const rapportData = response.data.rapport || response.data;\r\n      const metaData = response.data.metaData || {};\r\n\r\n      console.log('üìÑ Donn√©es d√©taill√©es du rapport :', rapportData);\r\n      console.log('üìÑ MetaData associ√©es :', metaData);\r\n\r\n      setDetailedRapport({ ...rapportData, metaData });\r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement des d√©tails du rapport:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Charger les d√©tails quand le rapport s√©lectionn√© change\r\n  useEffect(() => {\r\n    if (rapportSelectionne?.id_rapport) {\r\n      loadDetailedRapport(rapportSelectionne.id_rapport);\r\n    }\r\n  }, [rapportSelectionne?.id_rapport]);\r\n\r\n  // Ajout : fonction pour charger Leaflet si besoin\r\n  const loadLeaflet = () => {\r\n    return new Promise((resolve) => {\r\n      if (window.L) {\r\n        resolve();\r\n      } else {\r\n        const script = document.createElement('script');\r\n        script.src = \"https://unpkg.com/leaflet/dist/leaflet.js\";\r\n        script.onload = resolve;\r\n        document.body.appendChild(script);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Fonction pour v√©rifier si on a des coordonn√©es valides\r\n  const hasValidCoordinates = () => {\r\n    const rapport = detailedRapport || rapportSelectionne;\r\n    const latitude = detailedRapport?.metaData?.localisation?.latitude || rapportSelectionne?.latitude;\r\n    const longitude = detailedRapport?.metaData?.localisation?.longitude || rapportSelectionne?.longitude;\r\n\r\n    return latitude && longitude &&\r\n      !isNaN(parseFloat(latitude)) &&\r\n      !isNaN(parseFloat(longitude)) &&\r\n      latitude !== \"Non d√©finie\" &&\r\n      longitude !== \"Non d√©finie\";\r\n  };\r\n\r\n  useEffect(() => {\r\n  let isMounted = true;\r\n  \r\n  async function initMap() {\r\n    if (!hasValidCoordinates() || !mapRef.current || !expandedSections.localisation) return;\r\n    \r\n    // Attendre que l'animation d'ouverture soit termin√©e\r\n    await new Promise(resolve => setTimeout(resolve, 350));\r\n    \r\n    if (!isMounted) return;\r\n    \r\n    try {\r\n      await loadLeaflet();\r\n      if (!isMounted || !mapRef.current) return;\r\n      \r\n      // Nettoyer la carte existante\r\n      if (leafletMapRef.current) {\r\n        leafletMapRef.current.remove();\r\n        leafletMapRef.current = null;\r\n      }\r\n      \r\n      const latitude = detailedRapport?.metaData?.localisation?.latitude || rapportSelectionne?.latitude;\r\n      const longitude = detailedRapport?.metaData?.localisation?.longitude || rapportSelectionne?.longitude;\r\n      \r\n      const lat = parseFloat(latitude);\r\n      const lng = parseFloat(longitude);\r\n      \r\n      if (isNaN(lat) || isNaN(lng)) return;\r\n      \r\n      // V√©rifier les dimensions du conteneur\r\n      const rect = mapRef.current.getBoundingClientRect();\r\n      console.log('Dimensions du conteneur:', rect);\r\n      \r\n      if (rect.height === 0) {\r\n        console.warn('Conteneur toujours sans hauteur');\r\n        return;\r\n      }\r\n      \r\n      leafletMapRef.current = window.L.map(mapRef.current).setView([lat, lng], 10);\r\n      \r\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; OpenStreetMap contributors'\r\n      }).addTo(leafletMapRef.current);\r\n      \r\n      window.L.marker([lat, lng]).addTo(leafletMapRef.current);\r\n      \r\n      // D√©sactiver les interactions\r\n      leafletMapRef.current.dragging.disable();\r\n      leafletMapRef.current.touchZoom.disable();\r\n      leafletMapRef.current.doubleClickZoom.disable();\r\n      leafletMapRef.current.scrollWheelZoom.disable();\r\n      leafletMapRef.current.boxZoom.disable();\r\n      leafletMapRef.current.keyboard.disable();\r\n      if (leafletMapRef.current.tap) leafletMapRef.current.tap.disable();\r\n      \r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'initialisation de la carte:', error);\r\n    }\r\n  }\r\n  \r\n  initMap();\r\n  \r\n  return () => {\r\n    isMounted = false;\r\n    if (leafletMapRef.current) {\r\n      leafletMapRef.current.remove();\r\n      leafletMapRef.current = null;\r\n    }\r\n  };\r\n}, [detailedRapport, rapportSelectionne, expandedSections.localisation, hasValidCoordinates]);\r\n\r\n  // Fonction pour obtenir l'ic√¥ne de statut\r\n  const getStatusIcon = (value) => {\r\n    if (value === \"Oui\" || value === 1 || value === true) {\r\n      return <span className=\"status-icon status-yes\">‚úì</span>;\r\n    }\r\n    return <span className=\"status-icon status-no\">‚úó</span>;\r\n  };\r\n\r\n  if (!rapportSelectionne) return null;\r\n\r\n  const rapport = detailedRapport || rapportSelectionne;\r\n  const metaData = detailedRapport?.metaData || {};\r\n\r\n  if (loading && !detailedRapport) {\r\n    return (\r\n      <div className=\"details-rapport\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Chargement des d√©tails du rapport...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"details-rapport\">\r\n      {/* En-t√™te simplifi√© sans priorit√© */}\r\n      <div className=\"rapport-header\">\r\n        <div className=\"rapport-title-section\">\r\n          <h3>{rapport.titre}</h3>\r\n          <div className=\"rapport-meta\">\r\n            <span className=\"rapport-id\">ID: {rapport.id_rapport}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"rapport-status\">\r\n          <div className=\"rapport-dates\">\r\n            <div className=\"date-item\">\r\n              <span className=\"date-label\">Cr√©√© le</span>\r\n              <span className=\"date-value\">{formatDate(rapport.date_creation)}</span>\r\n            </div>\r\n            {rapport.date_modification && (\r\n              <div className=\"date-item\">\r\n                <span className=\"date-label\">Modifi√© le</span>\r\n                <span className=\"date-value\">{formatDate(rapport.date_modification)}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"rapport-sections\">\r\n        {/* Informations principales */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('infos')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üìã</span>\r\n              Informations principales\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.infos ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.infos && (\r\n            <div className=\"section-content\">\r\n              <div className=\"info-grid\">\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Date de l'√©v√©nement</span>\r\n                  <span className=\"info-value\">{formatDate(rapport.date_evenement)}</span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Type d'√©v√©nement</span>\r\n                  <span className=\"info-value info-tag type\">\r\n                    {getTypeEvenementLibelle(rapport.id_type_evenement)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Sous-type</span>\r\n                  <span className=\"info-value info-tag sous-type\">\r\n                    {getSousTypeEvenementLibelle(rapport.id_sous_type_evenement)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Origine</span>\r\n                  <span className=\"info-value info-tag origine\">\r\n                    {getOrigineEvenementLibelle(rapport.id_origine_evenement)}\r\n                  </span>\r\n                </div>\r\n                {(metaData.localisation?.id_zone || rapport.id_zone_lieu) && (\r\n                  <div className=\"info-card\">\r\n                    <span className=\"info-label\">Zone g√©ographique</span>\r\n                    <span className=\"info-value info-tag zone\">\r\n                      {getZoneNom(metaData.localisation?.id_zone || rapport.id_zone_lieu)}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Description globale */}\r\n        {rapport.description_globale && (\r\n          <div className=\"rapport-section\">\r\n            <div className=\"section-header\" onClick={() => toggleSection('description')}>\r\n              <h4>\r\n                <span className=\"section-icon\">üìù</span>\r\n                Description globale\r\n              </h4>\r\n              <span className={`expand-icon ${expandedSections.description ? 'expanded' : ''}`}>‚ñº</span>\r\n            </div>\r\n            {expandedSections.description && (\r\n              <div className=\"section-content\">\r\n                <div className=\"description-content\">\r\n                  {rapport.description_globale}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Cible de l'√©v√©nement */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('cible')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üéØ</span>\r\n              Cible de l'√©v√©nement\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.cible ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.cible && (\r\n            <div className=\"section-content\">\r\n              <div className=\"info-grid\">\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Type de cible</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.typeCible?.libelle || rapport.type_cible_libelle || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Nom de la cible</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.cible?.nom || rapport.nom_cible || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Pavillon</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.cible?.pavillon || rapport.pavillon_cible || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Immatriculation</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.cible?.immatriculation || rapport.immatriculation || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Type de produit</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.cible?.TypeProduit || rapport.TypeProduit || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Quantit√© de produit</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.cible?.QuantiteProduit || rapport.QuantiteProduit || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Localisation */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('localisation')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üìç</span>\r\n              Localisation\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.localisation ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.localisation && (\r\n            <div className=\"section-content\">\r\n              <div className=\"info-grid\">\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Zone g√©ographique</span>\r\n                  <span className=\"info-value\">\r\n                    {getZoneNom(metaData.localisation?.id_zone || rapport.id_zone_lieu) || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Pr√©cision sur le lieu</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.localisation?.details_lieu || rapport.details_lieu || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Coordonn√©es</span>\r\n                  <span className=\"info-value coordinates\">\r\n                    {hasValidCoordinates() ?\r\n                      `${metaData.localisation?.latitude || rapport.latitude}, ${metaData.localisation?.longitude || rapport.longitude}` :\r\n                      \"Non d√©finies\"\r\n                    }\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {/* Afficher la carte seulement si on a des coordonn√©es valides */}\r\n              {hasValidCoordinates() && (\r\n                <div className=\"map-container\">\r\n                  <div\r\n                    ref={mapRef}\r\n                    className=\"map-display\"\r\n                    id={`map-details-rapport-${rapport.id_rapport}`}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Conditions m√©t√©orologiques */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('meteo')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üå§Ô∏è</span>\r\n              Conditions m√©t√©orologiques\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.meteo ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.meteo && (\r\n            <div className=\"section-content\">\r\n              <div className=\"info-grid\">\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Direction du vent</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.meteo?.direction_vent || rapport.direction_vent || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Force du vent</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.meteo?.force_vent ?? rapport.force_vent ?? \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">√âtat de la mer</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.meteo?.etat_mer ?? rapport.etat_mer ?? \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">N√©bulosit√©</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.meteo?.nebulosite ?? rapport.nebulosite ?? \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"info-card\">\r\n                  <span className=\"info-label\">Mar√©e</span>\r\n                  <span className=\"info-value\">\r\n                    {metaData.meteo?.maree || rapport.maree || \"Non d√©finie\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Alertes et contacts */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('alertes')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üö®</span>\r\n              Contacts et alertes\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.alertes ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.alertes && (\r\n            <div className=\"section-content\">\r\n              <div className=\"alertes-grid\">\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">CEDRE alert√©</span>\r\n                  {getStatusIcon((metaData.alertes?.cedre === 1 || rapport.cedre) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">CROSS alert√©</span>\r\n                  {getStatusIcon((metaData.alertes?.cross_contact === 1 || rapport.cross_contact) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">Photo</span>\r\n                  {getStatusIcon((metaData.alertes?.photo === 1 || rapport.photo) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">POLREP</span>\r\n                  {getStatusIcon((metaData.alertes?.polrep === 1 || rapport.polrep) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">D√©rive MOTHY</span>\r\n                  {getStatusIcon((metaData.alertes?.derive_mothy === 1 || rapport.derive_mothym) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">POLMAR Terre</span>\r\n                  {getStatusIcon((metaData.alertes?.pne === 1 || rapport.pne) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">SMP</span>\r\n                  {getStatusIcon((metaData.alertes?.smp === 1 || rapport.smp) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n                <div className=\"alerte-card\">\r\n                  <span className=\"alerte-label\">BSAA</span>\r\n                  {getStatusIcon((metaData.alertes?.bsaa === 1 || rapport.bsaa) ? \"Oui\" : \"Non\")}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Informations suppl√©mentaires sur les moyens */}\r\n              <div className=\"moyens-section\">\r\n                <h5>Moyens et risques</h5>\r\n                <div className=\"info-grid\">\r\n                  <div className=\"info-card\">\r\n                    <span className=\"info-label\">Moyens √† proximit√©</span>\r\n                    <span className=\"info-value\">\r\n                      {metaData.alertes?.moyen_proximite || rapport.moyen_proximite || \"Non d√©fini\"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-card\">\r\n                    <span className=\"info-label\">Moyens d√©p√™ch√©s</span>\r\n                    <span className=\"info-value\">\r\n                      {metaData.alertes?.moyen_depeche || rapport.moyen_depeche || \"Non d√©fini\"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-card\">\r\n                    <span className=\"info-label\">Risque court terme</span>\r\n                    <span className=\"info-value\">\r\n                      {metaData.alertes?.risque_court_terme || rapport.risque_court_terme || \"Non d√©fini\"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-card\">\r\n                    <span className=\"info-label\">Risque moyen/long terme</span>\r\n                    <span className=\"info-value\">\r\n                      {metaData.alertes?.risque_moyen_long_terme || rapport.risque_moyen_long_terme || \"Non d√©fini\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Responsable */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('responsable')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üë§</span>\r\n              Responsable\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.responsable ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.responsable && (\r\n            <div className=\"section-content\">\r\n              <div className=\"responsable-card\">\r\n                <div className=\"avatar\">\r\n                  {getOperateurNom(rapport.id_operateur).substring(0, 1).toUpperCase()}\r\n                </div>\r\n                <div className=\"responsable-details\">\r\n                  <div className=\"responsable-nom\">{getOperateurNom(rapport.id_operateur)}</div>\r\n                  <div className=\"responsable-date\">Cr√©√© le {formatDate(rapport.date_creation)}</div>\r\n                  {rapport.id_operateur_modification && (\r\n                    <div className=\"responsable-modification\">\r\n                      Modifi√© par {getOperateurNom(rapport.id_operateur_modification)} le {formatDate(rapport.date_modification)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Acc√®s partag√©s */}\r\n        {rapport.operateurs_acces && rapport.operateurs_acces.length > 0 && (\r\n          <div className=\"rapport-section\">\r\n            <div className=\"section-header\" onClick={() => toggleSection('acces')}>\r\n              <h4>\r\n                <span className=\"section-icon\">üë•</span>\r\n                Acc√®s partag√©s\r\n              </h4>\r\n              <span className={`expand-icon ${expandedSections.acces ? 'expanded' : ''}`}>‚ñº</span>\r\n            </div>\r\n            {expandedSections.acces && (\r\n              <div className=\"section-content\">\r\n                <div className=\"acces-liste\">\r\n                  {rapport.operateurs_acces.map((opId) => (\r\n                    <div key={opId} className=\"acces-item\">\r\n                      <span className=\"acces-avatar\">{getOperateurNom(opId).substring(0, 1).toUpperCase()}</span>\r\n                      <span className=\"acces-nom\">{getOperateurNom(opId)}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Informations suppl√©mentaires */}\r\n        {rapport.informations_supplementaires && (\r\n          <div className=\"rapport-section\">\r\n            <div className=\"section-header\" onClick={() => toggleSection('infosSupp')}>\r\n              <h4>\r\n                <span className=\"section-icon\">‚ÑπÔ∏è</span>\r\n                Informations suppl√©mentaires\r\n              </h4>\r\n              <span className={`expand-icon ${expandedSections.infosSupp ? 'expanded' : ''}`}>‚ñº</span>\r\n            </div>\r\n            {expandedSections.infosSupp && (\r\n              <div className=\"section-content\">\r\n                <div className=\"infos-supp-content\">\r\n                  {rapport.informations_supplementaires}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Historique des actions */}\r\n        <div className=\"rapport-section\">\r\n          <div className=\"section-header\" onClick={() => toggleSection('historique')}>\r\n            <h4>\r\n              <span className=\"section-icon\">üìä</span>\r\n              Historique des actions\r\n              <span className=\"historique-count\">({historique?.length || 0})</span>\r\n            </h4>\r\n            <span className={`expand-icon ${expandedSections.historique ? 'expanded' : ''}`}>‚ñº</span>\r\n          </div>\r\n          {expandedSections.historique && (\r\n            <div className=\"section-content\">\r\n              <div className=\"historique-timeline\">\r\n                {historique && historique.length > 0 ? (\r\n                  historique.map((action, idx) => (\r\n                    <div key={idx} className=\"timeline-item\">\r\n                      <div className=\"timeline-marker\"></div>\r\n                      <div className=\"timeline-content\">\r\n                        <div className=\"timeline-header\">\r\n                          <span className=\"timeline-date\">\r\n                            {new Date(action.date_action).toLocaleDateString('fr-FR', {\r\n                              day: '2-digit',\r\n                              month: '2-digit',\r\n                              year: 'numeric',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit'\r\n                            })}\r\n                          </span>\r\n                          {action.type_action && (\r\n                            <span className=\"timeline-type\">{action.type_action}</span>\r\n                          )}\r\n                          {action.id_operateur && (\r\n                            <span className=\"timeline-operator\">\r\n                              {getOperateurNom(action.id_operateur)}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        {action.detail_action && (\r\n                          <div className=\"timeline-detail\">\r\n                            {action.detail_action}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <div className=\"no-historique\">Aucun historique disponible.</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailsRapport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}