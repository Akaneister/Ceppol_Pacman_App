{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EyeIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 20 20\",fill:\"none\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"ellipse\",{cx:\"10\",cy:\"10\",rx:\"8\",ry:\"5\",stroke:\"currentColor\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"10\",cy:\"10\",r:\"2\",fill:\"currentColor\"})]});const PencilIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 20 20\",fill:\"none\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14.7 5.3l-9 9V17h2.7l9-9-2.7-2.7z\",stroke:\"currentColor\",strokeWidth:\"1.5\",fill:\"none\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M13.3 3.9a1.5 1.5 0 012.1 2.1l-1.1 1.1-2.1-2.1 1.1-1.1z\",stroke:\"currentColor\",strokeWidth:\"1.5\",fill:\"none\"})]});const LinkIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 20 20\",fill:\"none\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M7 13l6-6\",stroke:\"currentColor\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"2\",y:\"10\",width:\"8\",height:\"6\",rx:\"3\",stroke:\"currentColor\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"10\",y:\"4\",width:\"8\",height:\"6\",rx:\"3\",stroke:\"currentColor\",strokeWidth:\"1.5\"})]});const RapportsTable=_ref=>{let{loading,error,rapportsFiltres,getTypeEvenementLibelle,getSousTypeEvenementLibelle,getOrigineEvenementLibelle,formatDate,getOperateurNom,voirDetails,voirHistorique,userPeutModifier,modifierRapport,authData,ouvrirGestionAcces}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"rapports-container\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement des rapports...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}):rapportsFiltres.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"Aucun rapport trouv\\xE9\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"rapports-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Titre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sous-type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Origine\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date de l'\\xE9v\\xE9nement\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Op\\xE9rateur\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rapportsFiltres.map(rapport=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rapport.titre}),/*#__PURE__*/_jsx(\"td\",{children:getTypeEvenementLibelle(rapport.id_type_evenement)}),/*#__PURE__*/_jsx(\"td\",{children:getSousTypeEvenementLibelle(rapport.id_sous_type_evenement)}),/*#__PURE__*/_jsx(\"td\",{children:getOrigineEvenementLibelle(rapport.id_origine_evenement)}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(rapport.date_evenement)}),/*#__PURE__*/_jsx(\"td\",{children:getOperateurNom(rapport.id_operateur)}),/*#__PURE__*/_jsxs(\"td\",{className:\"actions-cell flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon text-info\",onClick:()=>voirDetails(rapport),title:\"Voir d\\xE9tails\",children:/*#__PURE__*/_jsx(EyeIcon,{})}),userPeutModifier(rapport)&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon text-primary\",onClick:()=>modifierRapport(rapport.id_rapport),title:\"Modifier le rapport\",children:/*#__PURE__*/_jsx(PencilIcon,{})}),authData&&rapport.id_operateur===authData.Opid&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon text-warning\",onClick:()=>ouvrirGestionAcces(rapport),title:\"G\\xE9rer l'acc\\xE8s\",children:/*#__PURE__*/_jsx(LinkIcon,{})})]})]},rapport.id_rapport))})]})});};export default RapportsTable;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","EyeIcon","width","height","viewBox","fill","children","cx","cy","rx","ry","stroke","strokeWidth","r","PencilIcon","d","LinkIcon","x","y","RapportsTable","_ref","loading","error","rapportsFiltres","getTypeEvenementLibelle","getSousTypeEvenementLibelle","getOrigineEvenementLibelle","formatDate","getOperateurNom","voirDetails","voirHistorique","userPeutModifier","modifierRapport","authData","ouvrirGestionAcces","className","length","map","rapport","titre","id_type_evenement","id_sous_type_evenement","id_origine_evenement","date_evenement","id_operateur","onClick","title","id_rapport","Opid"],"sources":["D:/Stage/MarineV3/frontend/src/components/pages/ListeRapport/RapportsTable.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst EyeIcon = () => (\r\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" aria-hidden=\"true\">\r\n    <ellipse cx=\"10\" cy=\"10\" rx=\"8\" ry=\"5\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <circle cx=\"10\" cy=\"10\" r=\"2\" fill=\"currentColor\" />\r\n  </svg>\r\n);\r\n\r\n\r\n\r\nconst PencilIcon = () => (\r\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M14.7 5.3l-9 9V17h2.7l9-9-2.7-2.7z\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\r\n    <path d=\"M13.3 3.9a1.5 1.5 0 012.1 2.1l-1.1 1.1-2.1-2.1 1.1-1.1z\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\r\n  </svg>\r\n);\r\n\r\nconst LinkIcon = () => (\r\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M7 13l6-6\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <rect x=\"2\" y=\"10\" width=\"8\" height=\"6\" rx=\"3\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <rect x=\"10\" y=\"4\" width=\"8\" height=\"6\" rx=\"3\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\nconst RapportsTable = ({\r\n  loading,\r\n  error,\r\n  rapportsFiltres,\r\n  getTypeEvenementLibelle,\r\n  getSousTypeEvenementLibelle,\r\n  getOrigineEvenementLibelle,\r\n  formatDate,\r\n  getOperateurNom,\r\n  voirDetails,\r\n  voirHistorique,\r\n  userPeutModifier,\r\n  modifierRapport,\r\n  authData,\r\n  ouvrirGestionAcces,\r\n}) => {\r\n  return (\r\n    <div className=\"rapports-container\">\r\n      {loading ? (\r\n        <div className=\"loading\">Chargement des rapports...</div>\r\n      ) : error ? (\r\n        <div className=\"error\">{error}</div>\r\n      ) : rapportsFiltres.length === 0 ? (\r\n        <div className=\"no-data\">Aucun rapport trouvé</div>\r\n      ) : (\r\n        <table className=\"rapports-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Titre</th>\r\n              <th>Type</th>\r\n              <th>Sous-type</th>\r\n              <th>Origine</th>\r\n              <th>Date de l'événement</th>\r\n              <th>Opérateur</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rapportsFiltres.map((rapport) => (\r\n              <tr key={rapport.id_rapport}>\r\n                <td>{rapport.titre}</td>\r\n                <td>{getTypeEvenementLibelle(rapport.id_type_evenement)}</td>\r\n                <td>{getSousTypeEvenementLibelle(rapport.id_sous_type_evenement)}</td>\r\n                <td>{getOrigineEvenementLibelle(rapport.id_origine_evenement)}</td>\r\n                <td>{formatDate(rapport.date_evenement)}</td>\r\n                <td>{getOperateurNom(rapport.id_operateur)}</td>\r\n                <td className=\"actions-cell flex gap-2\">\r\n                  <button\r\n                    className=\"btn-icon text-info\"\r\n                    onClick={() => voirDetails(rapport)}\r\n                    title=\"Voir détails\"\r\n                  >\r\n                    <EyeIcon />\r\n                  </button>\r\n\r\n\r\n                  {userPeutModifier(rapport) && (\r\n                    <button\r\n                      className=\"btn-icon text-primary\"\r\n                      onClick={() => modifierRapport(rapport.id_rapport)}\r\n                      title=\"Modifier le rapport\"\r\n                    >\r\n                      <PencilIcon />\r\n                    </button>\r\n                  )}\r\n\r\n                  {authData && rapport.id_operateur === authData.Opid && (\r\n                    <button\r\n                      className=\"btn-icon text-warning\"\r\n                      onClick={() => ouvrirGestionAcces(rapport)}\r\n                      title=\"Gérer l'accès\"\r\n                    >\r\n                      <LinkIcon />\r\n                    </button>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RapportsTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}