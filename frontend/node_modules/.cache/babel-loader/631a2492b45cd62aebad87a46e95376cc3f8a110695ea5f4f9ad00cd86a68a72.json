{"ast":null,"code":"// Navbar.jsx\nimport{useState,useEffect}from'react';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';//Version CSS \nimport'../css/Navbar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const{authData,logout}=useAuth();const location=useLocation();const[mobileMenuOpen,setMobileMenuOpen]=useState(false);const[scrolled,setScrolled]=useState(false);// Gestion du scroll pour changer l'apparence de la navbar\nuseEffect(()=>{const handleScroll=()=>{if(window.scrollY>20){setScrolled(true);}else{setScrolled(false);}};window.addEventListener('scroll',handleScroll);return()=>{window.removeEventListener('scroll',handleScroll);};},[]);// Ferme le menu mobile lors du changement de page\nuseEffect(()=>{setMobileMenuOpen(false);},[location]);// V√©rifie si le lien est actif\nconst isActive=path=>{return location.pathname===path;};// G√®re la d√©connexion\nconst handleLogout=()=>{setMobileMenuOpen(false);logout();};return/*#__PURE__*/_jsx(\"header\",{className:`navbar-container ${scrolled?'scrolled':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`mobile-menu-toggle ${mobileMenuOpen?'active':''}`,onClick:()=>setMobileMenuOpen(!mobileMenuOpen),\"aria-label\":\"Menu\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsxs(\"nav\",{className:`navbar-menu ${mobileMenuOpen?'mobile-open':''}`,children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-links\",children:[/*#__PURE__*/_jsx(\"li\",{className:isActive('/doc')?'active':'',children:/*#__PURE__*/_jsxs(Link,{to:\"/doc\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"link-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-text\",children:\"Documentation\"})]})}),authData.isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:isActive('/ajouter-rapport')||isActive('/')?'active':'',children:/*#__PURE__*/_jsxs(Link,{to:\"/ajouter-rapport\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"link-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-text\",children:\"Ajouter un rapport\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:isActive('/liste-rapports')?'active':'',children:/*#__PURE__*/_jsxs(Link,{to:\"/liste-rapports\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"link-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-text\",children:\"Liste des rapports\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:isActive('/carte')?'active':'',children:/*#__PURE__*/_jsxs(Link,{to:\"/carte\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"link-icon\",children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-text\",children:\"Carte\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-auth\",children:authData.isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-avatar\",style:{color:'white'},children:authData.selectedOperateur?authData.selectedOperateur.charAt(0):'U'}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:authData.selectedOperateur||'Utilisateur'})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"logout-button\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"span\",{className:\"link-icon\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-text\",children:\"D\\xE9connexion\"})]})]}):/*#__PURE__*/_jsxs(Link,{to:\"/login\",className:`login-button ${isActive('/login')?'active':''}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"link-icon\",children:\"\\uD83D\\uDD11\"}),/*#__PURE__*/_jsx(\"span\",{className:\"link-text\",children:\"Connexion\"})]})})]})]})});};export default Navbar;","map":{"version":3,"names":["useState","useEffect","Link","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","authData","logout","location","mobileMenuOpen","setMobileMenuOpen","scrolled","setScrolled","handleScroll","window","scrollY","addEventListener","removeEventListener","isActive","path","pathname","handleLogout","className","children","onClick","to","isAuthenticated","style","color","selectedOperateur","charAt"],"sources":["D:/Stage/MarineV3/frontend/src/components/layout/Navbar.js"],"sourcesContent":["// Navbar.jsx\r\nimport { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n//Version CSS \r\nimport '../css/Navbar.css';\r\n\r\n\r\nconst Navbar = () => {\r\n  const { authData, logout } = useAuth();\r\n  const location = useLocation();\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n\r\n  // Gestion du scroll pour changer l'apparence de la navbar\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (window.scrollY > 20) {\r\n        setScrolled(true);\r\n      } else {\r\n        setScrolled(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  // Ferme le menu mobile lors du changement de page\r\n  useEffect(() => {\r\n    setMobileMenuOpen(false);\r\n  }, [location]);\r\n\r\n  // V√©rifie si le lien est actif\r\n  const isActive = (path) => {\r\n    return location.pathname === path;\r\n  };\r\n\r\n  // G√®re la d√©connexion\r\n  const handleLogout = () => {\r\n    setMobileMenuOpen(false);\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <header className={`navbar-container ${scrolled ? 'scrolled' : ''}`}>\r\n      <div className=\"navbar\">\r\n\r\n        {/* Bouton menu burger pour mobile */}\r\n        <button\r\n          className={`mobile-menu-toggle ${mobileMenuOpen ? 'active' : ''}`}\r\n          onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n          aria-label=\"Menu\"\r\n        >\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </button>\r\n\r\n        {/* Navigation principale */}\r\n        <nav className={`navbar-menu ${mobileMenuOpen ? 'mobile-open' : ''}`}>\r\n          <ul className=\"navbar-links\">\r\n            <li className={isActive('/doc') ? 'active' : ''}>\r\n              <Link to=\"/doc\">\r\n                <span className=\"link-icon\">üìÅ</span>\r\n                <span className=\"link-text\">Documentation</span>\r\n              </Link>\r\n            </li>\r\n\r\n            {/* Les liens suivants sont visibles uniquement si l'utilisateur est authentifi√© */}\r\n            {authData.isAuthenticated && (\r\n              <>\r\n                <li className={isActive('/ajouter-rapport') || isActive('/') ? 'active' : ''}>\r\n                  <Link to=\"/ajouter-rapport\">\r\n                    <span className=\"link-icon\">üìù</span>\r\n                    <span className=\"link-text\">Ajouter un rapport</span>\r\n                  </Link>\r\n                </li>\r\n                <li className={isActive('/liste-rapports') ? 'active' : ''}>\r\n                  <Link to=\"/liste-rapports\">\r\n                    <span className=\"link-icon\">üìã</span>\r\n                    <span className=\"link-text\">Liste des rapports</span>\r\n                  </Link>\r\n                </li>\r\n                <li className={isActive('/carte') ? 'active' : ''}>\r\n                  <Link to=\"/carte\">\r\n                    <span className=\"link-icon\">üó∫Ô∏è</span>\r\n                    <span className=\"link-text\">Carte</span>\r\n                  </Link>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n\r\n          {/* Partie droite de la navbar avec connexion/d√©connexion */}\r\n          <div className=\"navbar-auth\">\r\n            {authData.isAuthenticated ? (\r\n              <div className=\"user-menu\">\r\n                <div className=\"user-info\">\r\n                  <span className=\"user-avatar\" style={{ color: 'white' }}>\r\n                    {authData.selectedOperateur ? authData.selectedOperateur.charAt(0) : 'U'}\r\n                  </span>\r\n                  <span className=\"user-name\">{authData.selectedOperateur || 'Utilisateur'}</span>\r\n                </div>\r\n                <button className=\"logout-button\" onClick={handleLogout}>\r\n                  <span className=\"link-icon\">üö™</span>\r\n                  <span className=\"link-text\">D√©connexion</span>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <Link to=\"/login\" className={`login-button ${isActive('/login') ? 'active' : ''}`}>\r\n                <span className=\"link-icon\">üîë</span>\r\n                <span className=\"link-text\">Connexion</span>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}