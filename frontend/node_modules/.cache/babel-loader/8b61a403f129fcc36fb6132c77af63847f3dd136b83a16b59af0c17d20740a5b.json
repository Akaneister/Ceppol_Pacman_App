{"ast":null,"code":"var _jsxFileName = \"D:\\\\Stage\\\\MarineV3\\\\frontend\\\\src\\\\components\\\\pages\\\\ModifierRapport.js\",\n  _s = $RefreshSig$();\n/**\r\n==================================================================================\r\n==================================================================================\r\n@file ModifierRapport.js\r\n@location frontend/src/components/pages/ModifierRapport.js\r\n@description Composant de modification d'un rapport d'événement maritime existant\r\nFONCTIONNALITÉS PRINCIPALES :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• Modification complète d'un rapport d'événement maritime existant\r\n• Vérification des droits d'accès (créateur ou utilisateur autorisé)\r\n• Préremplissage automatique du formulaire avec les données existantes\r\n• Carte interactive Leaflet pour sélection/modification des coordonnées GPS\r\n• Gestion des types/sous-types d'événements avec filtres dynamiques\r\n• Sauvegarde des modifications avec tracking des changements\r\n• Archivage du rapport avec confirmation utilisateur\r\n• Historisation automatique des actions utilisateur\r\n\r\nSTRUCTURE DU COMPOSANT :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• Vérification d'accès : Contrôle des permissions avant affichage\r\n• Chargement des données : Récupération du rapport et des listes de référence\r\n• Formulaire complet : 6 sections organisées (Infos générales, Classification, etc.)\r\n• Carte interactive : Sélection visuelle des coordonnées avec marqueurs\r\n• Actions : Modification, archivage avec confirmation\r\n\r\nGESTION D'ÉTAT :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• hasAccess/accessChecked : Contrôle des permissions utilisateur\r\n• loading/error : États de chargement et gestion d'erreurs\r\n• formData/ancienRapport : Données actuelles et originales pour comparaison\r\n• mapInitialized/marker : État de la carte Leaflet et marqueurs\r\n• isSubmitting/submitStatus : États de soumission et messages de retour\r\n\r\nDÉPENDANCES :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• React (hooks: useState, useEffect, useRef)\r\n• AuthContext (authentification et informations utilisateur)\r\n• React Router (navigation et paramètres d'URL)\r\n• Axios (requêtes HTTP vers l'API)\r\n• Leaflet (cartographie interactive)\r\n\r\nAPI UTILISÉE :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• GET /rapports/:id/acces - Vérification des droits d'accès\r\n• GET /rapports/:id - Récupération des données du rapport\r\n• GET /rapports/type-evenement - Liste des types d'événements\r\n• GET /rapports/sous-type-pollution - Liste des sous-types\r\n• GET /rapports/origine-evenement - Liste des origines\r\n• GET /rapports/zone-geographique - Liste des zones géographiques\r\n• PUT /rapports/:id/after - Modification du rapport\r\n• POST /rapports/historique - Ajout d'une entrée d'historique\r\n\r\n@author Oscar Vieujean\r\n==================================================================================\r\n*/\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport 'leaflet/dist/leaflet.css';\nimport '../css/AjouterRapport.css'; // Utilisation du même fichier CSS pour la cohérence visuelle\n\n// Configuration de l'URL de l'API depuis les variables d'environnement\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API_URL;\nconst ModifierRapport = () => {\n  _s();\n  // ═══════════════════════════════════════════════════════════════════════════\n  // RÉCUPÉRATION DES PARAMÈTRES ET HOOKS\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const {\n    id\n  } = useParams(); // récupère l'ID du rapport depuis l'URL\n  const navigate = useNavigate(); // Navigation programmatique\n  const {\n    authData\n  } = useAuth(); // Données d'authentification utilisateur\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // ÉTATS DE CONTRÔLE D'ACCÈS\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const [hasAccess, setHasAccess] = useState(false); // Droit de modification\n  const [accessChecked, setAccessChecked] = useState(false); // Vérification effectuée\n\n  // Vérification des droits d'accès au rapport\n  useEffect(() => {\n    const checkAccess = async () => {\n      try {\n        // Récupération de la liste des utilisateurs ayant accès au rapport\n        const accesResponse = await axios.get(`${API}/rapports/${id}/acces`);\n        const accesList = accesResponse.data;\n\n        // Récupération des informations du rapport pour vérifier le créateur\n        const rapportResponse = await axios.get(`${API}/rapports/${id}`);\n        const rapport = rapportResponse.data.rapport || rapportResponse.data;\n\n        // Vérification si l'utilisateur est le créateur du rapport\n        const estCreateur = rapport.id_operateur === authData.Opid;\n        // Vérification si l'utilisateur a un accès explicite au rapport\n        const aAccess = accesList.some(acc => acc.id_operateur === authData.Opid);\n\n        // L'utilisateur a accès s'il est créateur OU s'il a un accès explicite\n        setHasAccess(estCreateur || aAccess);\n\n        // Note : Code dupliqué ci-dessous (à nettoyer)\n        if (estCreateur || aAccess) {\n          setHasAccess(true);\n        } else {\n          setHasAccess(false);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la vérification de l\\'accès :', error);\n        setHasAccess(false);\n      } finally {\n        setAccessChecked(true);\n      }\n    };\n    checkAccess();\n  }, [authData, id]);\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // ÉTATS DE GESTION DU FORMULAIRE ET DE LA CARTE\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const [isSubmitting, setIsSubmitting] = useState(false); // État de soumission\n  const [submitStatus, setSubmitStatus] = useState(null); // Messages de retour\n  const [loading, setLoading] = useState(true); // Chargement des données\n  const [error, setError] = useState(''); // Messages d'erreur\n\n  // Références pour la gestion de la carte Leaflet\n  const mapRef = useRef(null); // Référence du conteneur de la carte\n  const leafletMapRef = useRef(null); // Référence de l'instance Leaflet\n  const [mapInitialized, setMapInitialized] = useState(false); // État d'initialisation\n  const [marker, setMarker] = useState(null); // Marqueur sur la carte\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // ÉTATS POUR LES LISTES DÉROULANTES DE RÉFÉRENCE\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const [typesEvenement, setTypesEvenement] = useState([]); // Types d'événements\n  const [sousTypesEvenement, setSousTypesEvenement] = useState([]); // Sous-types complets\n  const [originesEvenement, setOriginesEvenement] = useState([]); // Origines d'événements\n  const [zonesGeographiques, setZonesGeographiques] = useState([]); // Zones géographiques\n  const [filteredSousTypes, setFilteredSousTypes] = useState([]); // Sous-types filtrés\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // STRUCTURE INITIALE DU FORMULAIRE\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  // Définition de la structure complète d'un rapport avec valeurs par défaut\n  const initialFormData = {\n    // Informations générales\n    titre: '',\n    date_evenement: '',\n    heure_evenement: '',\n    description_globale: '',\n    // Classification de l'événement\n    id_type_evenement: '',\n    id_sous_type_evenement: '',\n    id_origine_evenement: '',\n    // Informations sur la cible\n    id_cible: '',\n    nom_cible: '',\n    pavillon_cible: '',\n    libelle: '',\n    immatriculation: '',\n    TypeProduit: '',\n    QuantiteProduit: '',\n    // Localisation\n    id_zone: '',\n    details_lieu: '',\n    latitude: '',\n    longitude: '',\n    // Conditions météorologiques\n    direction_vent: '',\n    force_vent: '',\n    etat_mer: '',\n    nebulosite: '',\n    maree: '',\n    // Alertes et contacts (checkboxes)\n    cedre_alerte: false,\n    cross_alerte: false,\n    photo: false,\n    message_polrep: false,\n    derive_mothy: false,\n    polmar_terre: false,\n    smp: false,\n    bsaa: false,\n    sensible_proximite: false,\n    // Moyens et risques\n    moyen_proximite: '',\n    moyen_depeche: '',\n    moyen_marine_etat: '',\n    risque_court_terme: '',\n    risque_moyen_long_terme: '',\n    delai_appareillage: ''\n  };\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // ÉTATS DES DONNÉES DU FORMULAIRE\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const [formData, setFormData] = useState(initialFormData); // Données actuelles\n  const [ancienRapport, setAncienRapport] = useState(initialFormData); // Données originales pour comparaison\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // CHARGEMENT DES DONNÉES DU RAPPORT ET DES LISTES DE RÉFÉRENCE\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  useEffect(() => {\n    const fetchData = async () => {\n      console.log('📥 Début du chargement des données du rapport et des listes déroulantes...');\n      try {\n        var _rapportData$id_type_, _rapportData$id_sous_, _rapportData$id_origi, _metaData$cible, _metaData$cible$id_ty, _metaData$cible2, _metaData$cible3, _metaData$typeCible, _metaData$cible4, _metaData$cible5, _metaData$cible6, _metaData$localisatio, _metaData$localisatio2, _metaData$localisatio3, _metaData$localisatio4, _metaData$localisatio5, _metaData$localisatio6, _metaData$localisatio7, _metaData$meteo, _metaData$meteo2, _metaData$meteo2$forc, _metaData$meteo3, _metaData$meteo3$etat, _metaData$meteo4, _metaData$meteo4$nebu, _metaData$meteo5, _metaData$alertes, _metaData$alertes2, _metaData$alertes3, _metaData$alertes4, _metaData$alertes5, _metaData$alertes6, _metaData$alertes7, _metaData$alertes8, _metaData$alertes9, _metaData$alertes10, _metaData$alertes11, _metaData$alertes12, _metaData$alertes13, _metaData$alertes14, _metaData$alertes15;\n        setLoading(true);\n        setError('');\n        console.log('🔄 Requêtes en cours vers l\\'API...');\n\n        // Chargement parallèle de toutes les données nécessaires\n        const [typesRes,\n        // Types d'événements\n        sousTypesRes,\n        // Sous-types de pollution\n        originesRes,\n        // Origines d'événements\n        zonesRes,\n        // Zones géographiques\n        rapportRes // Données du rapport à modifier\n        ] = await Promise.all([axios.get(`${API}/rapports/type-evenement`), axios.get(`${API}/rapports/sous-type-pollution`), axios.get(`${API}/rapports/origine-evenement`), axios.get(`${API}/rapports/zone-geographique`), axios.get(`${API}/rapports/${id}`)]);\n        console.log('✅ Données des listes déroulantes récupérées avec succès.');\n\n        // ─────────────────────────────────────────────────────────────────────\n        // MISE À JOUR DES LISTES DE RÉFÉRENCE\n        // ─────────────────────────────────────────────────────────────────────\n        setTypesEvenement(typesRes.data);\n        setSousTypesEvenement(sousTypesRes.data);\n        setOriginesEvenement(originesRes.data);\n        setZonesGeographiques(zonesRes.data);\n        console.log('📦 Récupération et traitement des données du rapport...');\n\n        // ─────────────────────────────────────────────────────────────────────\n        // EXTRACTION DES DONNÉES DU RAPPORT\n        // ─────────────────────────────────────────────────────────────────────\n        const rapportData = rapportRes.data.rapport || rapportRes.data;\n        const metaData = rapportRes.data.metaData || {};\n\n        // 🧾 Affichage brut des données récupérées pour débogage\n        console.log('📄 Données du rapport récupérées :', rapportData);\n        console.log('📄 MetaData associées :', metaData);\n\n        // ─────────────────────────────────────────────────────────────────────\n        // FORMATAGE DE LA DATE ET HEURE\n        // ─────────────────────────────────────────────────────────────────────\n        let dateEvenement = '';\n        let heureEvenement = '';\n        if (rapportData.date_evenement) {\n          const dateObj = new Date(rapportData.date_evenement);\n          dateEvenement = dateObj.toISOString().split('T')[0]; // Format YYYY-MM-DD\n          heureEvenement = dateObj.toTimeString().substring(0, 5); // Format HH:MM\n          console.log(`🕒 Date UTC reçue : ${rapportData.date_evenement} → affichée : ${dateEvenement} ${heureEvenement}`);\n        }\n\n        // ─────────────────────────────────────────────────────────────────────\n        // CONSTRUCTION DE L'OBJET FORMULAIRE PRÉREMPLI\n        // ─────────────────────────────────────────────────────────────────────\n        const newFormData = {\n          // Informations générales du rapport\n          titre: rapportData.titre || '',\n          date_evenement: dateEvenement,\n          heure_evenement: heureEvenement,\n          description_globale: rapportData.description_globale || '',\n          id_type_evenement: ((_rapportData$id_type_ = rapportData.id_type_evenement) === null || _rapportData$id_type_ === void 0 ? void 0 : _rapportData$id_type_.toString()) || '',\n          id_sous_type_evenement: ((_rapportData$id_sous_ = rapportData.id_sous_type_evenement) === null || _rapportData$id_sous_ === void 0 ? void 0 : _rapportData$id_sous_.toString()) || '',\n          id_origine_evenement: ((_rapportData$id_origi = rapportData.id_origine_evenement) === null || _rapportData$id_origi === void 0 ? void 0 : _rapportData$id_origi.toString()) || '',\n          // Informations sur la cible (depuis metaData)\n          id_cible: ((_metaData$cible = metaData.cible) === null || _metaData$cible === void 0 ? void 0 : (_metaData$cible$id_ty = _metaData$cible.id_type_cible) === null || _metaData$cible$id_ty === void 0 ? void 0 : _metaData$cible$id_ty.toString()) || '',\n          nom_cible: ((_metaData$cible2 = metaData.cible) === null || _metaData$cible2 === void 0 ? void 0 : _metaData$cible2.nom) || '',\n          pavillon_cible: ((_metaData$cible3 = metaData.cible) === null || _metaData$cible3 === void 0 ? void 0 : _metaData$cible3.pavillon) || '',\n          libelle: ((_metaData$typeCible = metaData.typeCible) === null || _metaData$typeCible === void 0 ? void 0 : _metaData$typeCible.libelle) || '',\n          immatriculation: ((_metaData$cible4 = metaData.cible) === null || _metaData$cible4 === void 0 ? void 0 : _metaData$cible4.immatriculation) || '',\n          TypeProduit: ((_metaData$cible5 = metaData.cible) === null || _metaData$cible5 === void 0 ? void 0 : _metaData$cible5.TypeProduit) || '',\n          QuantiteProduit: ((_metaData$cible6 = metaData.cible) === null || _metaData$cible6 === void 0 ? void 0 : _metaData$cible6.QuantiteProduit) || '',\n          // Informations de localisation\n          id_zone: ((_metaData$localisatio = metaData.localisation) === null || _metaData$localisatio === void 0 ? void 0 : (_metaData$localisatio2 = _metaData$localisatio.id_zone) === null || _metaData$localisatio2 === void 0 ? void 0 : _metaData$localisatio2.toString()) || '',\n          details_lieu: ((_metaData$localisatio3 = metaData.localisation) === null || _metaData$localisatio3 === void 0 ? void 0 : _metaData$localisatio3.details_lieu) || '',\n          latitude: ((_metaData$localisatio4 = metaData.localisation) === null || _metaData$localisatio4 === void 0 ? void 0 : (_metaData$localisatio5 = _metaData$localisatio4.latitude) === null || _metaData$localisatio5 === void 0 ? void 0 : _metaData$localisatio5.toString()) || '',\n          longitude: ((_metaData$localisatio6 = metaData.localisation) === null || _metaData$localisatio6 === void 0 ? void 0 : (_metaData$localisatio7 = _metaData$localisatio6.longitude) === null || _metaData$localisatio7 === void 0 ? void 0 : _metaData$localisatio7.toString()) || '',\n          // Conditions météorologiques\n          direction_vent: ((_metaData$meteo = metaData.meteo) === null || _metaData$meteo === void 0 ? void 0 : _metaData$meteo.direction_vent) || '',\n          force_vent: ((_metaData$meteo2 = metaData.meteo) === null || _metaData$meteo2 === void 0 ? void 0 : (_metaData$meteo2$forc = _metaData$meteo2.force_vent) === null || _metaData$meteo2$forc === void 0 ? void 0 : _metaData$meteo2$forc.toString()) || '',\n          etat_mer: ((_metaData$meteo3 = metaData.meteo) === null || _metaData$meteo3 === void 0 ? void 0 : (_metaData$meteo3$etat = _metaData$meteo3.etat_mer) === null || _metaData$meteo3$etat === void 0 ? void 0 : _metaData$meteo3$etat.toString()) || '',\n          nebulosite: ((_metaData$meteo4 = metaData.meteo) === null || _metaData$meteo4 === void 0 ? void 0 : (_metaData$meteo4$nebu = _metaData$meteo4.nebulosite) === null || _metaData$meteo4$nebu === void 0 ? void 0 : _metaData$meteo4$nebu.toString()) || '',\n          maree: ((_metaData$meteo5 = metaData.meteo) === null || _metaData$meteo5 === void 0 ? void 0 : _metaData$meteo5.maree) || '',\n          // Alertes et contacts (conversion 1/0 vers boolean)\n          cedre_alerte: ((_metaData$alertes = metaData.alertes) === null || _metaData$alertes === void 0 ? void 0 : _metaData$alertes.cedre) === 1,\n          cross_alerte: ((_metaData$alertes2 = metaData.alertes) === null || _metaData$alertes2 === void 0 ? void 0 : _metaData$alertes2.cross_contact) === 1,\n          photo: ((_metaData$alertes3 = metaData.alertes) === null || _metaData$alertes3 === void 0 ? void 0 : _metaData$alertes3.photo) === 1,\n          message_polrep: ((_metaData$alertes4 = metaData.alertes) === null || _metaData$alertes4 === void 0 ? void 0 : _metaData$alertes4.polrep) === 1,\n          derive_mothy: ((_metaData$alertes5 = metaData.alertes) === null || _metaData$alertes5 === void 0 ? void 0 : _metaData$alertes5.derive_mothy) === 1,\n          polmar_terre: ((_metaData$alertes6 = metaData.alertes) === null || _metaData$alertes6 === void 0 ? void 0 : _metaData$alertes6.pne) === 1,\n          smp: ((_metaData$alertes7 = metaData.alertes) === null || _metaData$alertes7 === void 0 ? void 0 : _metaData$alertes7.smp) === 1,\n          bsaa: ((_metaData$alertes8 = metaData.alertes) === null || _metaData$alertes8 === void 0 ? void 0 : _metaData$alertes8.bsaa) === 1,\n          sensible_proximite: ((_metaData$alertes9 = metaData.alertes) === null || _metaData$alertes9 === void 0 ? void 0 : _metaData$alertes9.sensible_proximite) === 1,\n          // Moyens et autres informations\n          moyen_proximite: ((_metaData$alertes10 = metaData.alertes) === null || _metaData$alertes10 === void 0 ? void 0 : _metaData$alertes10.moyen_proximite) || '',\n          moyen_depeche: ((_metaData$alertes11 = metaData.alertes) === null || _metaData$alertes11 === void 0 ? void 0 : _metaData$alertes11.moyen_depeche) || '',\n          moyen_marine_etat: ((_metaData$alertes12 = metaData.alertes) === null || _metaData$alertes12 === void 0 ? void 0 : _metaData$alertes12.moyen_marine_etat) || '',\n          // Évaluation des risques\n          risque_court_terme: ((_metaData$alertes13 = metaData.alertes) === null || _metaData$alertes13 === void 0 ? void 0 : _metaData$alertes13.risque_court_terme) || '',\n          risque_moyen_long_terme: ((_metaData$alertes14 = metaData.alertes) === null || _metaData$alertes14 === void 0 ? void 0 : _metaData$alertes14.risque_moyen_long_terme) || '',\n          // Délai d'appareillage pour BSAA\n          delai_appareillage: ((_metaData$alertes15 = metaData.alertes) === null || _metaData$alertes15 === void 0 ? void 0 : _metaData$alertes15.delai_appareillage_bsaa) || ''\n        };\n        console.log('📝 Formulaire prérempli avec :', newFormData);\n\n        // Mise à jour des états avec les données récupérées\n        setFormData(newFormData);\n        setAncienRapport(newFormData); // Sauvegarde pour comparaison future\n      } catch (err) {\n        console.error('❌ Erreur lors du chargement des données :', err);\n        setError('Impossible de charger les données du rapport.');\n      } finally {\n        setLoading(false);\n        console.log('✅ Chargement terminé.');\n      }\n    };\n    fetchData();\n  }, [id]);\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // FILTRAGE DYNAMIQUE DES SOUS-TYPES D'ÉVÉNEMENTS\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  // Filtre les sous-types en fonction du type d'événement sélectionné\n  useEffect(() => {\n    if (formData.id_type_evenement) {\n      const filtered = sousTypesEvenement.filter(sousType => sousType.id_type_evenement === parseInt(formData.id_type_evenement));\n      setFilteredSousTypes(filtered);\n    } else {\n      setFilteredSousTypes([]);\n    }\n  }, [formData.id_type_evenement, sousTypesEvenement]);\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // INITIALISATION ET GESTION DE LA CARTE LEAFLET\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  useEffect(() => {\n    // Vérifications préalables avant initialisation de la carte\n    if (mapRef.current && !mapInitialized && typeof window !== 'undefined' && formData.latitude && formData.longitude) {\n      // ─────────────────────────────────────────────────────────────────────\n      // CHARGEMENT DYNAMIQUE DE LEAFLET SI NÉCESSAIRE\n      // ─────────────────────────────────────────────────────────────────────\n      if (!window.L) {\n        // Création du script Leaflet\n        const script = document.createElement('script');\n        script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n        script.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';\n        script.crossOrigin = '';\n\n        // Ajout de la feuille de style Leaflet si absente\n        if (!document.querySelector('link[href*=\"leaflet.css\"]')) {\n          const link = document.createElement('link');\n          link.rel = 'stylesheet';\n          link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n          link.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';\n          link.crossOrigin = '';\n          document.head.appendChild(link);\n        }\n        script.onload = initMap; // Initialisation après chargement\n        document.head.appendChild(script);\n      } else {\n        initMap(); // Leaflet déjà disponible\n      }\n    }\n\n    // ─────────────────────────────────────────────────────────────────────\n    // FONCTION D'INITIALISATION DE LA CARTE\n    // ─────────────────────────────────────────────────────────────────────\n    function initMap() {\n      try {\n        console.log(\"🗺️ Initialisation de la carte...\");\n\n        // Nettoyage de l'instance précédente si elle existe\n        if (leafletMapRef.current) {\n          leafletMapRef.current.remove();\n        }\n\n        // Position initiale basée sur les coordonnées du rapport\n        const initialPosition = [parseFloat(formData.latitude), parseFloat(formData.longitude)];\n\n        // Création de la nouvelle instance de carte\n        leafletMapRef.current = window.L.map(mapRef.current).setView(initialPosition, 10);\n\n        // Ajout de la couche de tuiles OpenStreetMap\n        window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(leafletMapRef.current);\n\n        // Ajout du marqueur à la position initiale si coordonnées disponibles\n        if (formData.latitude && formData.longitude) {\n          const newMarker = window.L.marker(initialPosition).addTo(leafletMapRef.current);\n          setMarker(newMarker);\n        }\n\n        // ───────────────────────────────────────────────────────────────────\n        // GESTIONNAIRE DE CLIC SUR LA CARTE\n        // ───────────────────────────────────────────────────────────────────\n        leafletMapRef.current.on('click', function (e) {\n          const {\n            lat,\n            lng\n          } = e.latlng;\n\n          // Mise à jour des champs de coordonnées dans le formulaire\n          setFormData(prev => ({\n            ...prev,\n            latitude: lat.toFixed(6),\n            longitude: lng.toFixed(6)\n          }));\n\n          // Mise à jour ou création du marqueur\n          if (marker) {\n            marker.setLatLng([lat, lng]);\n          } else {\n            const newMarker = window.L.marker([lat, lng]).addTo(leafletMapRef.current);\n            setMarker(newMarker);\n          }\n          console.log(`Position sélectionnée: ${lat.toFixed(6)}, ${lng.toFixed(6)}`);\n        });\n\n        // Force la recalculation de la taille de la carte après initialisation\n        setTimeout(() => {\n          if (leafletMapRef.current) {\n            leafletMapRef.current.invalidateSize();\n          }\n        }, 200);\n        setMapInitialized(true);\n        console.log(\"✅ Carte initialisée avec succès\");\n      } catch (error) {\n        console.error('Erreur lors de l\\'initialisation de la carte:', error);\n      }\n    }\n\n    // ─────────────────────────────────────────────────────────────────────\n    // NETTOYAGE AU DÉMONTAGE DU COMPOSANT\n    // ─────────────────────────────────────────────────────────────────────\n    return () => {\n      if (leafletMapRef.current) {\n        leafletMapRef.current.remove();\n        leafletMapRef.current = null;\n      }\n    };\n  }, [formData.latitude, formData.longitude, mapInitialized, marker]);\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // GESTIONNAIRES D'ÉVÉNEMENTS DU FORMULAIRE\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  // Gestionnaire générique des changements dans le formulaire\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    const newValue = type === 'checkbox' ? checked : value;\n    setFormData(prev => ({\n      ...prev,\n      [name]: newValue\n    }));\n  };\n\n  // ─────────────────────────────────────────────────────────────────────────\n  // SYNCHRONISATION CARTE ↔ COORDONNÉES MANUELLES\n  // ─────────────────────────────────────────────────────────────────────────\n\n  // Met à jour la carte si les coordonnées sont modifiées manuellement\n  useEffect(() => {\n    if (mapInitialized && leafletMapRef.current && formData.latitude && formData.longitude) {\n      const lat = parseFloat(formData.latitude);\n      const lng = parseFloat(formData.longitude);\n      if (!isNaN(lat) && !isNaN(lng)) {\n        // Centrage de la carte sur les nouvelles coordonnées\n        leafletMapRef.current.setView([lat, lng], 12);\n\n        // Mise à jour ou création du marqueur\n        if (marker) {\n          marker.setLatLng([lat, lng]);\n        } else {\n          const newMarker = window.L.marker([lat, lng]).addTo(leafletMapRef.current);\n          setMarker(newMarker);\n        }\n      }\n    }\n  }, [formData.latitude, formData.longitude, mapInitialized, marker]);\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // VALIDATION DU FORMULAIRE AVANT SOUMISSION\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const validateForm = () => {\n    // ─────────────────────────────────────────────────────────────────────\n    // VÉRIFICATION DES CHAMPS OBLIGATOIRES\n    // ─────────────────────────────────────────────────────────────────────\n    if (!formData.titre || !formData.date_evenement || !formData.heure_evenement || !formData.id_type_evenement || !formData.description_globale || !formData.id_zone) {\n      setSubmitStatus({\n        type: 'error',\n        message: 'Veuillez remplir tous les champs obligatoires (marqués par *).'\n      });\n      return false;\n    }\n\n    // ─────────────────────────────────────────────────────────────────────\n    // VÉRIFICATION DES MODIFICATIONS\n    // ─────────────────────────────────────────────────────────────────────\n    const isModified = Object.keys(formData).some(key => formData[key] !== ancienRapport[key]);\n    if (!isModified) {\n      setSubmitStatus({\n        type: 'error',\n        message: 'Aucune modification détectée. Modifiez au moins un champ pour enregistrer.'\n      });\n      return false;\n    }\n    return true;\n  };\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // FONCTION D'ARCHIVAGE DU RAPPORT\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const handleArchiver = async e => {\n    // Demande de confirmation avant archivage\n    const confirmation = window.confirm(\"Voulez-vous vraiment archiver ce rapport ? Cette action est irréversible.\");\n    if (!confirmation) return;\n    e.preventDefault();\n    setIsSubmitting(true);\n    setSubmitStatus(null);\n    try {\n      // ─────────────────────────────────────────────────────────────────────\n      // PRÉPARATION DES DONNÉES POUR L'ARCHIVAGE\n      // ─────────────────────────────────────────────────────────────────────\n      const dateTimeString = `${formData.date_evenement}T${formData.heure_evenement}:00`;\n\n      // Structure du rapport avec flag d'archivage\n      const rapport = {\n        titre: formData.titre,\n        date_evenement: dateTimeString,\n        description_globale: formData.description_globale,\n        id_operateur: authData.Opid,\n        id_type_evenement: formData.id_type_evenement ? parseInt(formData.id_type_evenement) : null,\n        id_sous_type_evenement: formData.id_sous_type_evenement ? parseInt(formData.id_sous_type_evenement) : null,\n        id_origine_evenement: formData.id_origine_evenement ? parseInt(formData.id_origine_evenement) : null,\n        archive: 1 // ✅ Flag d'archivage\n      };\n\n      // Métadonnées associées au rapport\n      const metaData = {\n        cible: {\n          id_cible: formData.id_cible || null,\n          nom_cible: formData.nom_cible || null,\n          pavillon_cible: formData.pavillon_cible || null,\n          libelle: formData.libelle || null\n        },\n        localisation: {\n          id_zone: formData.id_zone ? parseInt(formData.id_zone) : null,\n          details_lieu: formData.details_lieu || null,\n          latitude: formData.latitude ? parseFloat(formData.latitude) : null,\n          longitude: formData.longitude ? parseFloat(formData.longitude) : null\n        },\n        meteo: {\n          direction_vent: formData.direction_vent || null,\n          force_vent: formData.force_vent ? parseInt(formData.force_vent) : null,\n          etat_mer: formData.etat_mer ? parseInt(formData.etat_mer) : null,\n          nebulosite: formData.nebulosite ? parseInt(formData.nebulosite) : null\n        },\n        alertes: {\n          cedre_alerte: formData.cedre_alerte ? 1 : 0,\n          cross_alerte: formData.cross_alerte ? 1 : 0,\n          photo: formData.photo ? 1 : 0,\n          polrep: formData.polrep ? 1 : 0,\n          derive_mothy: formData.derive_mothy ? 1 : 0,\n          polmar_terre: formData.polmar_terre ? 1 : 0,\n          smp: formData.smp ? 1 : 0,\n          bsaa: formData.bsaa ? 1 : 0,\n          delai_appareillage: formData.delai_appareillage || null\n        }\n      };\n\n      // ─────────────────────────────────────────────────────────────────────\n      // ENVOI DE LA REQUÊTE D'ARCHIVAGE\n      // ─────────────────────────────────────────────────────────────────────\n      const response = await axios.put(`${API}/rapports/${id}/after`, {\n        rapport,\n        metaData\n      });\n\n      // ─────────────────────────────────────────────────────────────────────\n      // GÉNÉRATION DU DÉTAIL D'ACTION POUR L'HISTORIQUE\n      // ─────────────────────────────────────────────────────────────────────\n      function genererDetailAction(ancien, nouveau) {\n        console.log('Ancien rapport:', ancien);\n        const modifications = [];\n\n        // Parcours des champs pour détecter les changements\n        for (const champ in nouveau) {\n          const ancienVal = ancien[champ];\n          const nouveauVal = nouveau[champ];\n          if (ancienVal !== nouveauVal) {\n            modifications.push(`${champ} : \"${ancienVal}\" → \"${nouveauVal}\"`);\n          }\n        }\n        return modifications.length > 0 ? `Champs modifiés :\\n- ${modifications.join('\\n- ')}` : 'Aucune modification détectée';\n      }\n      const detail_action = genererDetailAction(ancienRapport, formData);\n\n      // ─────────────────────────────────────────────────────────────────────\n      // AJOUT D'UNE ENTRÉE D'HISTORIQUE\n      // ─────────────────────────────────────────────────────────────────────\n      console.log('detail_action:', detail_action);\n      await axios.post(`${API}/rapports/historique`, {\n        id_rapport: id,\n        id_operateur: authData.Opid,\n        type_action: 'Modification Rapport',\n        date_action: new Date(new Date().getTime() + 2 * 60 * 60 * 1000).toISOString(),\n        detail_action\n      });\n      console.log('Rapport archivé avec succès:', response.data);\n      setSubmitStatus({\n        type: 'success',\n        message: 'Rapport mis à jour avec succès!'\n      });\n\n      // Redirection après succès\n      setTimeout(() => {\n        navigate('/liste-rapports');\n      }, 2000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Erreur lors de la mise à jour du rapport:', error);\n      setSubmitStatus({\n        type: 'error',\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Une erreur est survenue lors de la mise à jour du rapport.'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // FONCTION PRINCIPALE DE MODIFICATION DU RAPPORT\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validation préalable du formulaire\n    if (!validateForm()) return;\n    setIsSubmitting(true);\n    setSubmitStatus(null);\n    try {\n      // ─────────────────────────────────────────────────────────────────────\n      // PRÉPARATION DES DONNÉES DE MODIFICATION\n      // ─────────────────────────────────────────────────────────────────────\n      const dateTimeString = `${formData.date_evenement}T${formData.heure_evenement}:00`;\n\n      // Structure principale du rapport (sans archivage)\n      const rapport = {\n        titre: formData.titre,\n        date_evenement: dateTimeString,\n        description_globale: formData.description_globale,\n        id_operateur: authData.Opid,\n        id_type_evenement: formData.id_type_evenement ? parseInt(formData.id_type_evenement) : null,\n        id_sous_type_evenement: formData.id_sous_type_evenement ? parseInt(formData.id_sous_type_evenement) : null,\n        id_origine_evenement: formData.id_origine_evenement ? parseInt(formData.id_origine_evenement) : null\n      };\n\n      // Métadonnées complètes du rapport\n      const metaData = {\n        cible: {\n          id_cible: formData.id_cible || null,\n          nom_cible: formData.nom_cible || null,\n          pavillon_cible: formData.pavillon_cible || null,\n          libelle: formData.libelle || null\n        },\n        localisation: {\n          id_zone: formData.id_zone ? parseInt(formData.id_zone) : null,\n          details_lieu: formData.details_lieu || null,\n          latitude: formData.latitude ? parseFloat(formData.latitude) : null,\n          longitude: formData.longitude ? parseFloat(formData.longitude) : null\n        },\n        meteo: {\n          direction_vent: formData.direction_vent || null,\n          force_vent: formData.force_vent ? parseInt(formData.force_vent) : null,\n          etat_mer: formData.etat_mer ? parseInt(formData.etat_mer) : null,\n          nebulosite: formData.nebulosite ? parseInt(formData.nebulosite) : null\n        },\n        alertes: {\n          cedre_alerte: formData.cedre_alerte ? 1 : 0,\n          cross_alerte: formData.cross_alerte ? 1 : 0,\n          photo: formData.photo ? 1 : 0,\n          polrep: formData.polrep ? 1 : 0,\n          derive_mothy: formData.derive_mothy ? 1 : 0,\n          polmar_terre: formData.polmar_terre ? 1 : 0,\n          smp: formData.smp ? 1 : 0,\n          bsaa: formData.bsaa ? 1 : 0,\n          delai_appareillage: formData.delai_appareillage || null\n        }\n      };\n\n      // ─────────────────────────────────────────────────────────────────────\n      // ENVOI DE LA REQUÊTE DE MODIFICATION\n      // ─────────────────────────────────────────────────────────────────────\n      const response = await axios.put(`${API}/rapports/${id}/after`, {\n        rapport,\n        metaData\n      });\n\n      // ─────────────────────────────────────────────────────────────────────\n      // GÉNÉRATION DU DÉTAIL D'ACTION POUR L'HISTORIQUE\n      // ─────────────────────────────────────────────────────────────────────\n      function genererDetailAction(ancien, nouveau) {\n        console.log('Ancien rapport:', ancien);\n        const modifications = [];\n\n        // Détection des changements entre ancien et nouveau\n        for (const champ in nouveau) {\n          const ancienVal = ancien[champ];\n          const nouveauVal = nouveau[champ];\n          if (ancienVal !== nouveauVal) {\n            modifications.push(`${champ} : \"${ancienVal}\" → \"${nouveauVal}\"`);\n          }\n        }\n        return modifications.length > 0 ? `Champs modifiés :\\n- ${modifications.join('\\n- ')}` : 'Aucune modification détectée';\n      }\n      const detail_action = genererDetailAction(ancienRapport, formData);\n\n      // ─────────────────────────────────────────────────────────────────────\n      // AJOUT D'UNE ENTRÉE D'HISTORIQUE\n      // ─────────────────────────────────────────────────────────────────────\n      console.log('detail_action:', detail_action);\n      await axios.post(`${API}/rapports/historique`, {\n        id_rapport: id,\n        id_operateur: authData.Opid,\n        type_action: 'Modification Rapport',\n        date_action: new Date(new Date().getTime() + 2 * 60 * 60 * 1000).toISOString(),\n        detail_action\n      });\n      console.log('Rapport mis à jour avec succès:', response.data);\n      setSubmitStatus({\n        type: 'success',\n        message: 'Rapport mis à jour avec succès!'\n      });\n\n      // Redirection après succès\n      setTimeout(() => {\n        navigate('/liste-rapports');\n      }, 2000);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Erreur lors de la mise à jour du rapport:', error);\n      setSubmitStatus({\n        type: 'error',\n        message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Une erreur est survenue lors de la mise à jour du rapport.'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // AFFICHAGE CONDITIONNEL SELON L'ÉTAT DE CHARGEMENT ET D'ACCÈS\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  // État de chargement initial\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Chargement des donn\\xE9es du rapport...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 825,\n    columnNumber: 5\n  }, this);\n\n  // État d'erreur de chargement\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Erreur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 834,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 835,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-primary\",\n      onClick: () => navigate('/liste-rapports'),\n      children: \"Retour \\xE0 la liste des rapports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 833,\n    columnNumber: 5\n  }, this);\n\n  // Vérification des permissions en cours\n  if (!accessChecked) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"V\\xE9rification des permissions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 847,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Accès refusé\n  if (!hasAccess) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Acc\\xE8s refus\\xE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 856,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Vous n'avez pas les droits pour modifier ce rapport.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 857,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: () => navigate('/liste-rapports'),\n        children: \"Retour \\xE0 la liste des rapports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 859,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // LOGIQUE D'AFFICHAGE CONDITIONNEL DES CHAMPS\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  // Affichage du champ délai d'appareillage seulement si BSAA est coché\n  const showDelaiAppareillage = formData.bsaa;\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // RENDU PRINCIPAL DU COMPOSANT - FORMULAIRE DE MODIFICATION\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rapport-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rapport-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Modifier Un rapport d'Evenement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 883,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"rapport-subtitle\",\n        style: {\n          fontSize: '0.9em',\n          fontStyle: 'italic'\n        },\n        children: \"Compl\\xE9tez tous les champs obligatoires (*) pour soumettre un nouveau rapport\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 882,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"rapport-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Informations G\\xE9n\\xE9rales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"titre\",\n            children: [\"Titre du rapport *\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"Donnez un titre court et descriptif\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"titre\",\n            type: \"text\",\n            name: \"titre\",\n            value: formData.titre,\n            onChange: handleChange,\n            className: \"form-control\",\n            placeholder: \"Ex: Incident de d\\xE9versement dans le secteur nord\",\n            required: true,\n            maxLength: \"200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"date_evenement\",\n              children: [\"Date de l'\\xE9v\\xE9nement *\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Date \\xE0 laquelle l'\\xE9v\\xE9nement s'est produit\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"date_evenement\",\n              type: \"date\",\n              name: \"date_evenement\",\n              value: formData.date_evenement,\n              onChange: handleChange,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"heure_evenement\",\n              children: [\"Heure de l'\\xE9v\\xE9nement *\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Heure \\xE0 laquelle l'\\xE9v\\xE9nement s'est produit\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"heure_evenement\",\n              type: \"time\",\n              name: \"heure_evenement\",\n              value: formData.heure_evenement,\n              onChange: handleChange,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 897,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Classification de l'\\xC9v\\xE9nement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"id_type_evenement\",\n              children: [\"Type d'\\xE9v\\xE9nement *\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Cat\\xE9gorie principale de l'\\xE9v\\xE9nement\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"id_type_evenement\",\n              name: \"id_type_evenement\",\n              value: formData.id_type_evenement,\n              onChange: handleChange,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- S\\xE9lectionner --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 976,\n                columnNumber: 17\n              }, this), typesEvenement.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: type.id_type_evenement,\n                children: type.libelle\n              }, type.id_type_evenement, false, {\n                fileName: _jsxFileName,\n                lineNumber: 978,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"id_sous_type_evenement\",\n              children: [\"Pr\\xE9cision du type d'\\xE9v\\xE9nement\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Sp\\xE9cification du type d'\\xE9v\\xE9nement\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"id_sous_type_evenement\",\n              name: \"id_sous_type_evenement\",\n              value: formData.id_sous_type_evenement,\n              onChange: handleChange,\n              className: \"form-control\",\n              disabled: !formData.id_type_evenement,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- S\\xE9lectionner --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 17\n              }, this), filteredSousTypes.map(sousType => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: sousType.id_sous_type_evenement,\n                children: sousType.libelle\n              }, sousType.id_sous_type_evenement, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 961,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"id_origine_evenement\",\n            children: [\"Origine de l'\\xE9v\\xE9nement\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"Source ou cause de l'\\xE9v\\xE9nement\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"id_origine_evenement\",\n            name: \"id_origine_evenement\",\n            value: formData.id_origine_evenement,\n            onChange: handleChange,\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- S\\xE9lectionner --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 15\n            }, this), originesEvenement.map(origine => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: origine.id_origine_evenement,\n              children: origine.libelle\n            }, origine.id_origine_evenement, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 958,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Cible de l'\\xC9v\\xE9nement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"libelle\",\n            children: [\"Type de cible\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"Type d'objet ou entit\\xE9 cibl\\xE9 par l'\\xE9v\\xE9nement\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"libelle\",\n            name: \"libelle\",\n            value: formData.libelle,\n            onChange: handleChange,\n            className: \"form-control\",\n            placeholder: \"Ex: Navire, Installation, etc.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1036,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"nom_cible\",\n              children: [\"Nom de la cible\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Nom du navire, de l'installation, etc.\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"nom_cible\",\n              type: \"text\",\n              name: \"nom_cible\",\n              value: formData.nom_cible,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: Navire Cargo XYZ\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1059,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1054,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"pavillon_cible\",\n              children: [\"Pavillon\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Pays d'enregistrement (pour navires)\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1073,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1071,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"pavillon_cible\",\n              type: \"text\",\n              name: \"pavillon_cible\",\n              value: formData.pavillon_cible,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: France\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1070,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"immatriculation\",\n              children: [\"Immatriculation\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"MMSI/IMO Info immatriculation\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1087,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"immatriculation\",\n              type: \"text\",\n              name: \"immatriculation\",\n              value: formData.immatriculation,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: MMSI/IMO Info immatriculation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1091,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1053,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"TypeProduit\",\n              children: [\"Type Produit\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Type Produit\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1109,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"TypeProduit\",\n              type: \"text\",\n              name: \"TypeProduit\",\n              value: formData.TypeProduit,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: fioul lourd, Huile, etc.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"QuantiteProduit\",\n              children: [\"Quantite Produit\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Quantite de Produit\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"QuantiteProduit\",\n              type: \"text\",\n              name: \"QuantiteProduit\",\n              value: formData.QuantiteProduit,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: 1000L, 1000T, etc.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1033,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Localisation de l'\\xC9v\\xE9nement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"id_zone\",\n            children: [\"Zone g\\xE9ographique *\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"Mer ou zone maritime o\\xF9 s'est produit l'\\xE9v\\xE9nement\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"id_zone\",\n            name: \"id_zone\",\n            value: formData.id_zone,\n            onChange: handleChange,\n            className: \"form-control\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- S\\xE9lectionner une zone --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1158,\n              columnNumber: 15\n            }, this), zonesGeographiques.map(zone => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: zone.id_zone,\n              children: zone.nom_zone\n            }, zone.id_zone, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"details_lieu\",\n            children: [\"Pr\\xE9cision sur le lieu\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"Description pr\\xE9cise de l'emplacement\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"details_lieu\",\n            name: \"details_lieu\",\n            value: formData.details_lieu,\n            onChange: handleChange,\n            className: \"form-control\",\n            placeholder: \"D\\xE9crivez l'emplacement pr\\xE9cis (ex: 2 milles nautiques au sud du port de...\",\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"latitude\",\n              children: [\"Latitude\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Format d\\xE9cimal (ex: 43.296398)\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"latitude\",\n              type: \"text\",\n              name: \"latitude\",\n              value: formData.latitude,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: 43.296398\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"longitude\",\n              children: [\"Longitude\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Format d\\xE9cimal (ex: 5.369779)\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1203,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"longitude\",\n              type: \"text\",\n              name: \"longitude\",\n              value: formData.longitude,\n              onChange: handleChange,\n              className: \"form-control\",\n              placeholder: \"Ex: 5.369779\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"S\\xE9lectionnez un point sur la carte (cliquez pour d\\xE9finir les coordonn\\xE9es)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: mapRef,\n            id: \"map\",\n            className: \"location-map\",\n            style: {\n              height: '300px',\n              width: '100%',\n              marginTop: '10px'\n            },\n            children: !mapInitialized && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map-loading\",\n              children: \"Chargement de la carte...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Conditions M\\xE9t\\xE9orologiques\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"direction_vent\",\n              children: [\"Direction du vent\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"Direction d'o\\xF9 vient le vent\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"direction_vent\",\n              name: \"direction_vent\",\n              value: formData.direction_vent,\n              onChange: handleChange,\n              className: \"form-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- S\\xE9lectionner --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"N\",\n                children: \"Nord (N)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1248,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NE\",\n                children: \"Nord-Est (NE)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"E\",\n                children: \"Est (E)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"SE\",\n                children: \"Sud-Est (SE)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"S\",\n                children: \"Sud (S)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"SO\",\n                children: \"Sud-Ouest (SO)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"O\",\n                children: \"Ouest (O)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NO\",\n                children: \"Nord-Ouest (NO)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"maree\",\n              children: [\"Mar\\xE9e\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"\\xC9tat actuel de la mar\\xE9e (observation au moment du rapport)\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"maree\",\n              name: \"maree\",\n              value: formData.maree,\n              onChange: handleChange,\n              className: \"form-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- S\\xE9lectionner --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"haute\",\n                children: \"Haute mer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"basse\",\n                children: \"Basse mer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"montante\",\n                children: \"Mar\\xE9e montante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"descendante\",\n                children: \"Mar\\xE9e descendante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"force_vent\",\n              children: [\"Force du vent (0-12)\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"\\xC9chelle de Beaufort de 0 \\xE0 12\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              id: \"force_vent\",\n              name: \"force_vent\",\n              min: \"0\",\n              max: \"12\",\n              value: formData.force_vent,\n              onChange: handleChange,\n              className: \"form-control-range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"range-value\",\n              children: formData.force_vent || '0'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"etat_mer\",\n              children: [\"\\xC9tat de la mer (0-9)\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"\\xC9chelle de Douglas de 0 \\xE0 9\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              id: \"etat_mer\",\n              name: \"etat_mer\",\n              min: \"0\",\n              max: \"9\",\n              value: formData.etat_mer,\n              onChange: handleChange,\n              className: \"form-control-range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"range-value\",\n              children: formData.etat_mer || '0'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"nebulosite\",\n              children: [\"N\\xE9bulosit\\xE9 (0-9)\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-icon\",\n                title: \"\\xC9chelle de couverture nuageuse de 0 \\xE0 9\",\n                children: \"\\u2139\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              id: \"nebulosite\",\n              name: \"nebulosite\",\n              min: \"0\",\n              max: \"9\",\n              value: formData.nebulosite,\n              onChange: handleChange,\n              className: \"form-control-range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"range-value\",\n              children: formData.nebulosite || '0'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Contacts et Alertes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkbox-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"cedre_alerte\",\n              type: \"checkbox\",\n              name: \"cedre_alerte\",\n              checked: formData.cedre_alerte,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cedre_alerte\",\n              children: \"CEDRE alert\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"cross_alerte\",\n              type: \"checkbox\",\n              name: \"cross_alerte\",\n              checked: formData.cross_alerte,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cross_alerte\",\n              children: \"CROSS alert\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1362,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"photo\",\n              type: \"checkbox\",\n              name: \"photo\",\n              checked: formData.photo,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"photo\",\n              children: \"Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"message_polrep\",\n              type: \"checkbox\",\n              name: \"message_polrep\",\n              checked: formData.message_polrep,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"message_polrep\",\n              children: \"POLREP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1386,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"derive_mothy\",\n              type: \"checkbox\",\n              name: \"derive_mothy\",\n              checked: formData.derive_mothy,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"derive_mothy\",\n              children: \"D\\xE9rive MOTHY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"polmar_terre\",\n              type: \"checkbox\",\n              name: \"polmar_terre\",\n              checked: formData.polmar_terre,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"polmar_terre\",\n              children: \"POLMAR Terre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"smp\",\n              type: \"checkbox\",\n              name: \"smp\",\n              checked: formData.smp,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"smp\",\n              children: \"SMP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"sensible_proximite\",\n              type: \"checkbox\",\n              name: \"sensible_proximite\",\n              checked: formData.sensible_proximite,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"sensible_proximite\",\n              children: \"Site sensible \\xE0 proximit\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"bsaa\",\n              type: \"checkbox\",\n              name: \"bsaa\",\n              checked: formData.bsaa,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"bsaa\",\n              children: \"BSAA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1441,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1342,\n          columnNumber: 11\n        }, this), showDelaiAppareillage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"delai_appareillage\",\n            children: [\"D\\xE9lai d'appareillage\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"Date et heure d'appareillage pour BSAA\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"delai_appareillage\",\n            type: \"datetime-local\",\n            name: \"delai_appareillage\",\n            value: formData.delai_appareillage,\n            onChange: handleChange,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1452,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"moyen_proximite\",\n              children: \"Moyens \\xE0 proximit\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1466,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"moyen_proximite\",\n              name: \"moyen_proximite\",\n              value: formData.moyen_proximite,\n              onChange: handleChange,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1467,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"moyen_depeche\",\n              children: \"Moyens d\\xE9p\\xEAch\\xE9s sur zone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"moyen_depeche\",\n              name: \"moyen_depeche\",\n              value: formData.moyen_depeche,\n              onChange: handleChange,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1480,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1464,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"moyen_marine_etat\",\n            children: \"Moyens maritimes ou de l\\u2019\\xC9tat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"moyen_marine_etat\",\n            name: \"moyen_marine_etat\",\n            value: formData.moyen_marine_etat,\n            onChange: handleChange,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1492,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"risque_court_terme\",\n              children: \"Risque pr\\xE9visible \\xE0 court terme\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1507,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"risque_court_terme\",\n              name: \"risque_court_terme\",\n              value: formData.risque_court_terme,\n              onChange: handleChange,\n              className: \"form-control\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1508,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1506,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"risque_moyen_long_terme\",\n              children: \"Risque pr\\xE9visible \\xE0 moyen et long terme\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1520,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"risque_moyen_long_terme\",\n              name: \"risque_moyen_long_terme\",\n              value: formData.risque_moyen_long_terme,\n              onChange: handleChange,\n              className: \"form-control\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1523,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1519,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1505,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Description D\\xE9taill\\xE9e\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1539,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description_globale\",\n            children: [\"Description globale de l'\\xE9v\\xE9nement *\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltip-icon\",\n              title: \"D\\xE9crivez en d\\xE9tail ce qui s'est pass\\xE9\",\n              children: \"\\u2139\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1544,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1542,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description_globale\",\n            name: \"description_globale\",\n            value: formData.description_globale,\n            onChange: handleChange,\n            className: \"form-control\",\n            placeholder: \"D\\xE9crivez l'\\xE9v\\xE9nement de mani\\xE8re d\\xE9taill\\xE9e : que s'est-il pass\\xE9, o\\xF9, quand, comment...\",\n            required: true,\n            rows: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1546,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1538,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `btn-primary ${isSubmitting ? 'loading' : ''}`,\n          disabled: isSubmitting,\n          children: isSubmitting ? 'Modification ...' : 'Modifier le rapport'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1562,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1560,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-secondary\",\n          onClick: handleArchiver,\n          style: {\n            backgroundColor: '#a00',\n            color: 'white',\n            padding: '10px 20px',\n            fontSize: '1rem',\n            marginTop: '1rem'\n          },\n          children: \"\\uD83D\\uDDC3\\uFE0F Archiver ce rapport\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1572,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1571,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 892,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1582,\n      columnNumber: 7\n    }, this), submitStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `status-message ${submitStatus.type}`,\n      children: submitStatus.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1584,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 878,\n    columnNumber: 5\n  }, this);\n};\n_s(ModifierRapport, \"Vwmtad+8mLkM8emQ8bLfi/ns/mY=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = ModifierRapport;\nexport default ModifierRapport;\nvar _c;\n$RefreshReg$(_c, \"ModifierRapport\");","map":{"version":3,"names":["useState","useEffect","useRef","useAuth","useParams","useNavigate","axios","jsxDEV","_jsxDEV","API","process","env","REACT_APP_API_URL","ModifierRapport","_s","id","navigate","authData","hasAccess","setHasAccess","accessChecked","setAccessChecked","checkAccess","accesResponse","get","accesList","data","rapportResponse","rapport","estCreateur","id_operateur","Opid","aAccess","some","acc","error","console","isSubmitting","setIsSubmitting","submitStatus","setSubmitStatus","loading","setLoading","setError","mapRef","leafletMapRef","mapInitialized","setMapInitialized","marker","setMarker","typesEvenement","setTypesEvenement","sousTypesEvenement","setSousTypesEvenement","originesEvenement","setOriginesEvenement","zonesGeographiques","setZonesGeographiques","filteredSousTypes","setFilteredSousTypes","initialFormData","titre","date_evenement","heure_evenement","description_globale","id_type_evenement","id_sous_type_evenement","id_origine_evenement","id_cible","nom_cible","pavillon_cible","libelle","immatriculation","TypeProduit","QuantiteProduit","id_zone","details_lieu","latitude","longitude","direction_vent","force_vent","etat_mer","nebulosite","maree","cedre_alerte","cross_alerte","photo","message_polrep","derive_mothy","polmar_terre","smp","bsaa","sensible_proximite","moyen_proximite","moyen_depeche","moyen_marine_etat","risque_court_terme","risque_moyen_long_terme","delai_appareillage","formData","setFormData","ancienRapport","setAncienRapport","fetchData","log","_rapportData$id_type_","_rapportData$id_sous_","_rapportData$id_origi","_metaData$cible","_metaData$cible$id_ty","_metaData$cible2","_metaData$cible3","_metaData$typeCible","_metaData$cible4","_metaData$cible5","_metaData$cible6","_metaData$localisatio","_metaData$localisatio2","_metaData$localisatio3","_metaData$localisatio4","_metaData$localisatio5","_metaData$localisatio6","_metaData$localisatio7","_metaData$meteo","_metaData$meteo2","_metaData$meteo2$forc","_metaData$meteo3","_metaData$meteo3$etat","_metaData$meteo4","_metaData$meteo4$nebu","_metaData$meteo5","_metaData$alertes","_metaData$alertes2","_metaData$alertes3","_metaData$alertes4","_metaData$alertes5","_metaData$alertes6","_metaData$alertes7","_metaData$alertes8","_metaData$alertes9","_metaData$alertes10","_metaData$alertes11","_metaData$alertes12","_metaData$alertes13","_metaData$alertes14","_metaData$alertes15","typesRes","sousTypesRes","originesRes","zonesRes","rapportRes","Promise","all","rapportData","metaData","dateEvenement","heureEvenement","dateObj","Date","toISOString","split","toTimeString","substring","newFormData","toString","cible","id_type_cible","nom","pavillon","typeCible","localisation","meteo","alertes","cedre","cross_contact","polrep","pne","delai_appareillage_bsaa","err","filtered","filter","sousType","parseInt","current","window","L","script","document","createElement","src","integrity","crossOrigin","querySelector","link","rel","href","head","appendChild","onload","initMap","remove","initialPosition","parseFloat","map","setView","tileLayer","attribution","addTo","newMarker","on","e","lat","lng","latlng","prev","toFixed","setLatLng","setTimeout","invalidateSize","handleChange","name","value","type","checked","target","newValue","isNaN","validateForm","message","isModified","Object","keys","key","handleArchiver","confirmation","confirm","preventDefault","dateTimeString","archive","response","put","genererDetailAction","ancien","nouveau","modifications","champ","ancienVal","nouveauVal","push","length","join","detail_action","post","id_rapport","type_action","date_action","getTime","_error$response","_error$response$data","handleSubmit","_error$response2","_error$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","showDelaiAppareillage","style","fontSize","fontStyle","onSubmit","htmlFor","title","onChange","placeholder","required","maxLength","disabled","origine","zone","nom_zone","rows","ref","height","width","marginTop","min","max","backgroundColor","color","padding","_c","$RefreshReg$"],"sources":["D:/Stage/MarineV3/frontend/src/components/pages/ModifierRapport.js"],"sourcesContent":["/**\r\n==================================================================================\r\n==================================================================================\r\n@file ModifierRapport.js\r\n@location frontend/src/components/pages/ModifierRapport.js\r\n@description Composant de modification d'un rapport d'événement maritime existant\r\nFONCTIONNALITÉS PRINCIPALES :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• Modification complète d'un rapport d'événement maritime existant\r\n• Vérification des droits d'accès (créateur ou utilisateur autorisé)\r\n• Préremplissage automatique du formulaire avec les données existantes\r\n• Carte interactive Leaflet pour sélection/modification des coordonnées GPS\r\n• Gestion des types/sous-types d'événements avec filtres dynamiques\r\n• Sauvegarde des modifications avec tracking des changements\r\n• Archivage du rapport avec confirmation utilisateur\r\n• Historisation automatique des actions utilisateur\r\n\r\nSTRUCTURE DU COMPOSANT :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• Vérification d'accès : Contrôle des permissions avant affichage\r\n• Chargement des données : Récupération du rapport et des listes de référence\r\n• Formulaire complet : 6 sections organisées (Infos générales, Classification, etc.)\r\n• Carte interactive : Sélection visuelle des coordonnées avec marqueurs\r\n• Actions : Modification, archivage avec confirmation\r\n\r\nGESTION D'ÉTAT :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• hasAccess/accessChecked : Contrôle des permissions utilisateur\r\n• loading/error : États de chargement et gestion d'erreurs\r\n• formData/ancienRapport : Données actuelles et originales pour comparaison\r\n• mapInitialized/marker : État de la carte Leaflet et marqueurs\r\n• isSubmitting/submitStatus : États de soumission et messages de retour\r\n\r\nDÉPENDANCES :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• React (hooks: useState, useEffect, useRef)\r\n• AuthContext (authentification et informations utilisateur)\r\n• React Router (navigation et paramètres d'URL)\r\n• Axios (requêtes HTTP vers l'API)\r\n• Leaflet (cartographie interactive)\r\n\r\nAPI UTILISÉE :\r\n────────────────────────────────────────────────────────────────────────────────\r\n• GET /rapports/:id/acces - Vérification des droits d'accès\r\n• GET /rapports/:id - Récupération des données du rapport\r\n• GET /rapports/type-evenement - Liste des types d'événements\r\n• GET /rapports/sous-type-pollution - Liste des sous-types\r\n• GET /rapports/origine-evenement - Liste des origines\r\n• GET /rapports/zone-geographique - Liste des zones géographiques\r\n• PUT /rapports/:id/after - Modification du rapport\r\n• POST /rapports/historique - Ajout d'une entrée d'historique\r\n\r\n@author Oscar Vieujean\r\n==================================================================================\r\n*/\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport '../css/AjouterRapport.css'; // Utilisation du même fichier CSS pour la cohérence visuelle\r\n\r\n// Configuration de l'URL de l'API depuis les variables d'environnement\r\nconst API = process.env.REACT_APP_API_URL;\r\n\r\nconst ModifierRapport = () => {\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // RÉCUPÉRATION DES PARAMÈTRES ET HOOKS\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const { id } = useParams(); // récupère l'ID du rapport depuis l'URL\r\n  const navigate = useNavigate(); // Navigation programmatique\r\n  const { authData } = useAuth(); // Données d'authentification utilisateur\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // ÉTATS DE CONTRÔLE D'ACCÈS\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const [hasAccess, setHasAccess] = useState(false); // Droit de modification\r\n  const [accessChecked, setAccessChecked] = useState(false); // Vérification effectuée\r\n\r\n  // Vérification des droits d'accès au rapport\r\n  useEffect(() => {\r\n    const checkAccess = async () => {\r\n      try {\r\n        // Récupération de la liste des utilisateurs ayant accès au rapport\r\n        const accesResponse = await axios.get(`${API}/rapports/${id}/acces`);\r\n        const accesList = accesResponse.data;\r\n\r\n        // Récupération des informations du rapport pour vérifier le créateur\r\n        const rapportResponse = await axios.get(`${API}/rapports/${id}`);\r\n        const rapport = rapportResponse.data.rapport || rapportResponse.data;\r\n\r\n        // Vérification si l'utilisateur est le créateur du rapport\r\n        const estCreateur = rapport.id_operateur === authData.Opid;\r\n        // Vérification si l'utilisateur a un accès explicite au rapport\r\n        const aAccess = accesList.some(acc => acc.id_operateur === authData.Opid);\r\n\r\n        // L'utilisateur a accès s'il est créateur OU s'il a un accès explicite\r\n        setHasAccess(estCreateur || aAccess);\r\n\r\n        // Note : Code dupliqué ci-dessous (à nettoyer)\r\n        if (estCreateur || aAccess) {\r\n          setHasAccess(true);\r\n        } else {\r\n          setHasAccess(false);\r\n        }\r\n      } catch (error) {\r\n        console.error('Erreur lors de la vérification de l\\'accès :', error);\r\n        setHasAccess(false);\r\n      } finally {\r\n        setAccessChecked(true);\r\n      }\r\n    };\r\n    checkAccess();\r\n  }, [authData, id]);\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // ÉTATS DE GESTION DU FORMULAIRE ET DE LA CARTE\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const [isSubmitting, setIsSubmitting] = useState(false); // État de soumission\r\n  const [submitStatus, setSubmitStatus] = useState(null); // Messages de retour\r\n  const [loading, setLoading] = useState(true); // Chargement des données\r\n  const [error, setError] = useState(''); // Messages d'erreur\r\n\r\n  // Références pour la gestion de la carte Leaflet\r\n  const mapRef = useRef(null); // Référence du conteneur de la carte\r\n  const leafletMapRef = useRef(null); // Référence de l'instance Leaflet\r\n  const [mapInitialized, setMapInitialized] = useState(false); // État d'initialisation\r\n  const [marker, setMarker] = useState(null); // Marqueur sur la carte\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // ÉTATS POUR LES LISTES DÉROULANTES DE RÉFÉRENCE\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const [typesEvenement, setTypesEvenement] = useState([]); // Types d'événements\r\n  const [sousTypesEvenement, setSousTypesEvenement] = useState([]); // Sous-types complets\r\n  const [originesEvenement, setOriginesEvenement] = useState([]); // Origines d'événements\r\n  const [zonesGeographiques, setZonesGeographiques] = useState([]); // Zones géographiques\r\n  const [filteredSousTypes, setFilteredSousTypes] = useState([]); // Sous-types filtrés\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // STRUCTURE INITIALE DU FORMULAIRE\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  // Définition de la structure complète d'un rapport avec valeurs par défaut\r\n  const initialFormData = {\r\n    // Informations générales\r\n    titre: '',\r\n    date_evenement: '',\r\n    heure_evenement: '',\r\n    description_globale: '',\r\n    \r\n    // Classification de l'événement\r\n    id_type_evenement: '',\r\n    id_sous_type_evenement: '',\r\n    id_origine_evenement: '',\r\n    \r\n    // Informations sur la cible\r\n    id_cible: '',\r\n    nom_cible: '',\r\n    pavillon_cible: '',\r\n    libelle: '',\r\n    immatriculation: '',\r\n    TypeProduit: '',\r\n    QuantiteProduit: '',\r\n    \r\n    // Localisation\r\n    id_zone: '',\r\n    details_lieu: '',\r\n    latitude: '',\r\n    longitude: '',\r\n    \r\n    // Conditions météorologiques\r\n    direction_vent: '',\r\n    force_vent: '',\r\n    etat_mer: '',\r\n    nebulosite: '',\r\n    maree: '',\r\n    \r\n    // Alertes et contacts (checkboxes)\r\n    cedre_alerte: false,\r\n    cross_alerte: false,\r\n    photo: false,\r\n    message_polrep: false,\r\n    derive_mothy: false,\r\n    polmar_terre: false,\r\n    smp: false,\r\n    bsaa: false,\r\n    sensible_proximite: false,\r\n    \r\n    // Moyens et risques\r\n    moyen_proximite: '',\r\n    moyen_depeche: '',\r\n    moyen_marine_etat: '',\r\n    risque_court_terme: '',\r\n    risque_moyen_long_terme: '',\r\n    delai_appareillage: ''\r\n  };\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // ÉTATS DES DONNÉES DU FORMULAIRE\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const [formData, setFormData] = useState(initialFormData); // Données actuelles\r\n  const [ancienRapport, setAncienRapport] = useState(initialFormData); // Données originales pour comparaison\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // CHARGEMENT DES DONNÉES DU RAPPORT ET DES LISTES DE RÉFÉRENCE\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      console.log('📥 Début du chargement des données du rapport et des listes déroulantes...');\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        console.log('🔄 Requêtes en cours vers l\\'API...');\r\n        \r\n        // Chargement parallèle de toutes les données nécessaires\r\n        const [\r\n          typesRes,        // Types d'événements\r\n          sousTypesRes,    // Sous-types de pollution\r\n          originesRes,     // Origines d'événements\r\n          zonesRes,        // Zones géographiques\r\n          rapportRes,      // Données du rapport à modifier\r\n        ] = await Promise.all([\r\n          axios.get(`${API}/rapports/type-evenement`),\r\n          axios.get(`${API}/rapports/sous-type-pollution`),\r\n          axios.get(`${API}/rapports/origine-evenement`),\r\n          axios.get(`${API}/rapports/zone-geographique`),\r\n          axios.get(`${API}/rapports/${id}`),\r\n        ]);\r\n\r\n        console.log('✅ Données des listes déroulantes récupérées avec succès.');\r\n\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        // MISE À JOUR DES LISTES DE RÉFÉRENCE\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        setTypesEvenement(typesRes.data);\r\n        setSousTypesEvenement(sousTypesRes.data);\r\n        setOriginesEvenement(originesRes.data);\r\n        setZonesGeographiques(zonesRes.data);\r\n\r\n        console.log('📦 Récupération et traitement des données du rapport...');\r\n        \r\n        // ─────────────────────────────────────────────────────────────────────\r\n        // EXTRACTION DES DONNÉES DU RAPPORT\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        const rapportData = rapportRes.data.rapport || rapportRes.data;\r\n        const metaData = rapportRes.data.metaData || {};\r\n\r\n        // 🧾 Affichage brut des données récupérées pour débogage\r\n        console.log('📄 Données du rapport récupérées :', rapportData);\r\n        console.log('📄 MetaData associées :', metaData);\r\n\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        // FORMATAGE DE LA DATE ET HEURE\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        let dateEvenement = '';\r\n        let heureEvenement = '';\r\n\r\n        if (rapportData.date_evenement) {\r\n          const dateObj = new Date(rapportData.date_evenement);\r\n          dateEvenement = dateObj.toISOString().split('T')[0]; // Format YYYY-MM-DD\r\n          heureEvenement = dateObj.toTimeString().substring(0, 5); // Format HH:MM\r\n          console.log(`🕒 Date UTC reçue : ${rapportData.date_evenement} → affichée : ${dateEvenement} ${heureEvenement}`);\r\n        }\r\n\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        // CONSTRUCTION DE L'OBJET FORMULAIRE PRÉREMPLI\r\n        // ─────────────────────────────────────────────────────────────────────\r\n        const newFormData = {\r\n          // Informations générales du rapport\r\n          titre: rapportData.titre || '',\r\n          date_evenement: dateEvenement,\r\n          heure_evenement: heureEvenement,\r\n          description_globale: rapportData.description_globale || '',\r\n          id_type_evenement: rapportData.id_type_evenement?.toString() || '',\r\n          id_sous_type_evenement: rapportData.id_sous_type_evenement?.toString() || '',\r\n          id_origine_evenement: rapportData.id_origine_evenement?.toString() || '',\r\n\r\n          // Informations sur la cible (depuis metaData)\r\n          id_cible: metaData.cible?.id_type_cible?.toString() || '',\r\n          nom_cible: metaData.cible?.nom || '',\r\n          pavillon_cible: metaData.cible?.pavillon || '',\r\n          libelle: metaData.typeCible?.libelle || '',\r\n          immatriculation: metaData.cible?.immatriculation || '',\r\n          TypeProduit: metaData.cible?.TypeProduit || '',\r\n          QuantiteProduit: metaData.cible?.QuantiteProduit || '',\r\n\r\n          // Informations de localisation\r\n          id_zone: metaData.localisation?.id_zone?.toString() || '',\r\n          details_lieu: metaData.localisation?.details_lieu || '',\r\n          latitude: metaData.localisation?.latitude?.toString() || '',\r\n          longitude: metaData.localisation?.longitude?.toString() || '',\r\n\r\n          // Conditions météorologiques\r\n          direction_vent: metaData.meteo?.direction_vent || '',\r\n          force_vent: metaData.meteo?.force_vent?.toString() || '',\r\n          etat_mer: metaData.meteo?.etat_mer?.toString() || '',\r\n          nebulosite: metaData.meteo?.nebulosite?.toString() || '',\r\n          maree: metaData.meteo?.maree || '',\r\n\r\n          // Alertes et contacts (conversion 1/0 vers boolean)\r\n          cedre_alerte: metaData.alertes?.cedre === 1,\r\n          cross_alerte: metaData.alertes?.cross_contact === 1,\r\n          photo: metaData.alertes?.photo === 1,\r\n          message_polrep: metaData.alertes?.polrep === 1,\r\n          derive_mothy: metaData.alertes?.derive_mothy === 1,\r\n          polmar_terre: metaData.alertes?.pne === 1,\r\n          smp: metaData.alertes?.smp === 1,\r\n          bsaa: metaData.alertes?.bsaa === 1,\r\n          sensible_proximite: metaData.alertes?.sensible_proximite === 1,\r\n\r\n          // Moyens et autres informations\r\n          moyen_proximite: metaData.alertes?.moyen_proximite || '',\r\n          moyen_depeche: metaData.alertes?.moyen_depeche || '',\r\n          moyen_marine_etat: metaData.alertes?.moyen_marine_etat || '',\r\n\r\n          // Évaluation des risques\r\n          risque_court_terme: metaData.alertes?.risque_court_terme || '',\r\n          risque_moyen_long_terme: metaData.alertes?.risque_moyen_long_terme || '',\r\n\r\n          // Délai d'appareillage pour BSAA\r\n          delai_appareillage: metaData.alertes?.delai_appareillage_bsaa || ''\r\n        };\r\n\r\n        console.log('📝 Formulaire prérempli avec :', newFormData);\r\n        \r\n        // Mise à jour des états avec les données récupérées\r\n        setFormData(newFormData);\r\n        setAncienRapport(newFormData); // Sauvegarde pour comparaison future\r\n\r\n      } catch (err) {\r\n        console.error('❌ Erreur lors du chargement des données :', err);\r\n        setError('Impossible de charger les données du rapport.');\r\n      } finally {\r\n        setLoading(false);\r\n        console.log('✅ Chargement terminé.');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // FILTRAGE DYNAMIQUE DES SOUS-TYPES D'ÉVÉNEMENTS\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  // Filtre les sous-types en fonction du type d'événement sélectionné\r\n  useEffect(() => {\r\n    if (formData.id_type_evenement) {\r\n      const filtered = sousTypesEvenement.filter(\r\n        sousType => sousType.id_type_evenement === parseInt(formData.id_type_evenement)\r\n      );\r\n      setFilteredSousTypes(filtered);\r\n    } else {\r\n      setFilteredSousTypes([]);\r\n    }\r\n  }, [formData.id_type_evenement, sousTypesEvenement]);\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // INITIALISATION ET GESTION DE LA CARTE LEAFLET\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  useEffect(() => {\r\n    // Vérifications préalables avant initialisation de la carte\r\n    if (mapRef.current && !mapInitialized && typeof window !== 'undefined' && formData.latitude && formData.longitude) {\r\n      \r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // CHARGEMENT DYNAMIQUE DE LEAFLET SI NÉCESSAIRE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      if (!window.L) {\r\n        // Création du script Leaflet\r\n        const script = document.createElement('script');\r\n        script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\r\n        script.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';\r\n        script.crossOrigin = '';\r\n\r\n        // Ajout de la feuille de style Leaflet si absente\r\n        if (!document.querySelector('link[href*=\"leaflet.css\"]')) {\r\n          const link = document.createElement('link');\r\n          link.rel = 'stylesheet';\r\n          link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\r\n          link.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';\r\n          link.crossOrigin = '';\r\n          document.head.appendChild(link);\r\n        }\r\n\r\n        script.onload = initMap; // Initialisation après chargement\r\n        document.head.appendChild(script);\r\n      } else {\r\n        initMap(); // Leaflet déjà disponible\r\n      }\r\n    }\r\n\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    // FONCTION D'INITIALISATION DE LA CARTE\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    function initMap() {\r\n      try {\r\n        console.log(\"🗺️ Initialisation de la carte...\");\r\n\r\n        // Nettoyage de l'instance précédente si elle existe\r\n        if (leafletMapRef.current) {\r\n          leafletMapRef.current.remove();\r\n        }\r\n\r\n        // Position initiale basée sur les coordonnées du rapport\r\n        const initialPosition = [\r\n          parseFloat(formData.latitude),\r\n          parseFloat(formData.longitude) \r\n        ];\r\n\r\n        // Création de la nouvelle instance de carte\r\n        leafletMapRef.current = window.L.map(mapRef.current).setView(initialPosition, 10);\r\n\r\n        // Ajout de la couche de tuiles OpenStreetMap\r\n        window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        }).addTo(leafletMapRef.current);\r\n\r\n        // Ajout du marqueur à la position initiale si coordonnées disponibles\r\n        if (formData.latitude && formData.longitude) {\r\n          const newMarker = window.L.marker(initialPosition).addTo(leafletMapRef.current);\r\n          setMarker(newMarker);\r\n        }\r\n\r\n        // ───────────────────────────────────────────────────────────────────\r\n        // GESTIONNAIRE DE CLIC SUR LA CARTE\r\n        // ───────────────────────────────────────────────────────────────────\r\n        leafletMapRef.current.on('click', function (e) {\r\n          const { lat, lng } = e.latlng;\r\n\r\n          // Mise à jour des champs de coordonnées dans le formulaire\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            latitude: lat.toFixed(6),\r\n            longitude: lng.toFixed(6)\r\n          }));\r\n\r\n          // Mise à jour ou création du marqueur\r\n          if (marker) {\r\n            marker.setLatLng([lat, lng]);\r\n          } else {\r\n            const newMarker = window.L.marker([lat, lng]).addTo(leafletMapRef.current);\r\n            setMarker(newMarker);\r\n          }\r\n\r\n          console.log(`Position sélectionnée: ${lat.toFixed(6)}, ${lng.toFixed(6)}`);\r\n        });\r\n\r\n        // Force la recalculation de la taille de la carte après initialisation\r\n        setTimeout(() => {\r\n          if (leafletMapRef.current) {\r\n            leafletMapRef.current.invalidateSize();\r\n          }\r\n        }, 200);\r\n\r\n        setMapInitialized(true);\r\n        console.log(\"✅ Carte initialisée avec succès\");\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'initialisation de la carte:', error);\r\n      }\r\n    }\r\n\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    // NETTOYAGE AU DÉMONTAGE DU COMPOSANT\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    return () => {\r\n      if (leafletMapRef.current) {\r\n        leafletMapRef.current.remove();\r\n        leafletMapRef.current = null;\r\n      }\r\n    };\r\n  }, [formData.latitude, formData.longitude, mapInitialized, marker]);\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // GESTIONNAIRES D'ÉVÉNEMENTS DU FORMULAIRE\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  // Gestionnaire générique des changements dans le formulaire\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    const newValue = type === 'checkbox' ? checked : value;\r\n    setFormData(prev => ({ ...prev, [name]: newValue }));\r\n  };\r\n\r\n  // ─────────────────────────────────────────────────────────────────────────\r\n  // SYNCHRONISATION CARTE ↔ COORDONNÉES MANUELLES\r\n  // ─────────────────────────────────────────────────────────────────────────\r\n  \r\n  // Met à jour la carte si les coordonnées sont modifiées manuellement\r\n  useEffect(() => {\r\n    if (mapInitialized && leafletMapRef.current && formData.latitude && formData.longitude) {\r\n      const lat = parseFloat(formData.latitude);\r\n      const lng = parseFloat(formData.longitude);\r\n\r\n      if (!isNaN(lat) && !isNaN(lng)) {\r\n        // Centrage de la carte sur les nouvelles coordonnées\r\n        leafletMapRef.current.setView([lat, lng], 12);\r\n\r\n        // Mise à jour ou création du marqueur\r\n        if (marker) {\r\n          marker.setLatLng([lat, lng]);\r\n        } else {\r\n          const newMarker = window.L.marker([lat, lng]).addTo(leafletMapRef.current);\r\n          setMarker(newMarker);\r\n        }\r\n      }\r\n    }\r\n  }, [formData.latitude, formData.longitude, mapInitialized, marker]);\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // VALIDATION DU FORMULAIRE AVANT SOUMISSION\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const validateForm = () => {\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    // VÉRIFICATION DES CHAMPS OBLIGATOIRES\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    if (!formData.titre || !formData.date_evenement || !formData.heure_evenement ||\r\n      !formData.id_type_evenement || !formData.description_globale || !formData.id_zone) {\r\n      setSubmitStatus({\r\n        type: 'error',\r\n        message: 'Veuillez remplir tous les champs obligatoires (marqués par *).'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    // VÉRIFICATION DES MODIFICATIONS\r\n    // ─────────────────────────────────────────────────────────────────────\r\n    const isModified = Object.keys(formData).some(\r\n      key => formData[key] !== ancienRapport[key]\r\n    );\r\n    if (!isModified) {\r\n      setSubmitStatus({\r\n        type: 'error',\r\n        message: 'Aucune modification détectée. Modifiez au moins un champ pour enregistrer.'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // FONCTION D'ARCHIVAGE DU RAPPORT\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const handleArchiver = async (e) => {\r\n    // Demande de confirmation avant archivage\r\n    const confirmation = window.confirm(\"Voulez-vous vraiment archiver ce rapport ? Cette action est irréversible.\");\r\n    if (!confirmation) return;\r\n    \r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    setSubmitStatus(null);\r\n\r\n    try {\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // PRÉPARATION DES DONNÉES POUR L'ARCHIVAGE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      const dateTimeString = `${formData.date_evenement}T${formData.heure_evenement}:00`;\r\n\r\n      // Structure du rapport avec flag d'archivage\r\n      const rapport = {\r\n        titre: formData.titre,\r\n        date_evenement: dateTimeString,\r\n        description_globale: formData.description_globale,\r\n        id_operateur: authData.Opid,\r\n        id_type_evenement: formData.id_type_evenement ? parseInt(formData.id_type_evenement) : null,\r\n        id_sous_type_evenement: formData.id_sous_type_evenement ? parseInt(formData.id_sous_type_evenement) : null,\r\n        id_origine_evenement: formData.id_origine_evenement ? parseInt(formData.id_origine_evenement) : null,\r\n        archive: 1 // ✅ Flag d'archivage\r\n      };\r\n\r\n      // Métadonnées associées au rapport\r\n      const metaData = {\r\n        cible: {\r\n          id_cible: formData.id_cible || null,\r\n          nom_cible: formData.nom_cible || null,\r\n          pavillon_cible: formData.pavillon_cible || null,\r\n          libelle: formData.libelle || null,\r\n        },\r\n        localisation: {\r\n          id_zone: formData.id_zone ? parseInt(formData.id_zone) : null,\r\n          details_lieu: formData.details_lieu || null,\r\n          latitude: formData.latitude ? parseFloat(formData.latitude) : null,\r\n          longitude: formData.longitude ? parseFloat(formData.longitude) : null,\r\n        },\r\n        meteo: {\r\n          direction_vent: formData.direction_vent || null,\r\n          force_vent: formData.force_vent ? parseInt(formData.force_vent) : null,\r\n          etat_mer: formData.etat_mer ? parseInt(formData.etat_mer) : null,\r\n          nebulosite: formData.nebulosite ? parseInt(formData.nebulosite) : null,\r\n        },\r\n        alertes: {\r\n          cedre_alerte: formData.cedre_alerte ? 1 : 0,\r\n          cross_alerte: formData.cross_alerte ? 1 : 0,\r\n          photo: formData.photo ? 1 : 0,\r\n          polrep: formData.polrep ? 1 : 0,\r\n          derive_mothy: formData.derive_mothy ? 1 : 0,\r\n          polmar_terre: formData.polmar_terre ? 1 : 0,\r\n          smp: formData.smp ? 1 : 0,\r\n          bsaa: formData.bsaa ? 1 : 0,\r\n          delai_appareillage: formData.delai_appareillage || null,\r\n        }\r\n      };\r\n\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // ENVOI DE LA REQUÊTE D'ARCHIVAGE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      const response = await axios.put(`${API}/rapports/${id}/after`, {\r\n        rapport,\r\n        metaData\r\n      });\r\n\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // GÉNÉRATION DU DÉTAIL D'ACTION POUR L'HISTORIQUE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      function genererDetailAction(ancien, nouveau) {\r\n        console.log('Ancien rapport:', ancien);\r\n        const modifications = [];\r\n\r\n        // Parcours des champs pour détecter les changements\r\n        for (const champ in nouveau) {\r\n          const ancienVal = ancien[champ];\r\n          const nouveauVal = nouveau[champ];\r\n\r\n          if (ancienVal !== nouveauVal) {\r\n            modifications.push(`${champ} : \"${ancienVal}\" → \"${nouveauVal}\"`);\r\n          }\r\n        }\r\n\r\n        return modifications.length > 0\r\n          ? `Champs modifiés :\\n- ${modifications.join('\\n- ')}`\r\n          : 'Aucune modification détectée';\r\n      }\r\n\r\n      const detail_action = genererDetailAction(ancienRapport, formData);\r\n\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // AJOUT D'UNE ENTRÉE D'HISTORIQUE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      console.log('detail_action:', detail_action);\r\n      await axios.post(`${API}/rapports/historique`, {\r\n        id_rapport: id,\r\n        id_operateur: authData.Opid,\r\n        type_action: 'Modification Rapport',\r\n        date_action: new Date(new Date().getTime() + 2 * 60 * 60 * 1000).toISOString(),\r\n        detail_action\r\n      });\r\n\r\n      console.log('Rapport archivé avec succès:', response.data);\r\n      setSubmitStatus({ type: 'success', message: 'Rapport mis à jour avec succès!' });\r\n\r\n      // Redirection après succès\r\n      setTimeout(() => {\r\n        navigate('/liste-rapports');\r\n      }, 2000);\r\n      \r\n    } catch (error) {\r\n      console.error('Erreur lors de la mise à jour du rapport:', error);\r\n      setSubmitStatus({\r\n        type: 'error',\r\n        message: error.response?.data?.message || 'Une erreur est survenue lors de la mise à jour du rapport.'\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // FONCTION PRINCIPALE DE MODIFICATION DU RAPPORT\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validation préalable du formulaire\r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n    setSubmitStatus(null);\r\n\r\n    try {\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // PRÉPARATION DES DONNÉES DE MODIFICATION\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      const dateTimeString = `${formData.date_evenement}T${formData.heure_evenement}:00`;\r\n\r\n      // Structure principale du rapport (sans archivage)\r\n      const rapport = {\r\n        titre: formData.titre,\r\n        date_evenement: dateTimeString,\r\n        description_globale: formData.description_globale,\r\n        id_operateur: authData.Opid,\r\n        id_type_evenement: formData.id_type_evenement ? parseInt(formData.id_type_evenement) : null,\r\n        id_sous_type_evenement: formData.id_sous_type_evenement ? parseInt(formData.id_sous_type_evenement) : null,\r\n        id_origine_evenement: formData.id_origine_evenement ? parseInt(formData.id_origine_evenement) : null,\r\n      };\r\n\r\n      // Métadonnées complètes du rapport\r\n      const metaData = {\r\n        cible: {\r\n          id_cible: formData.id_cible || null,\r\n          nom_cible: formData.nom_cible || null,\r\n          pavillon_cible: formData.pavillon_cible || null,\r\n          libelle: formData.libelle || null,\r\n        },\r\n        localisation: {\r\n          id_zone: formData.id_zone ? parseInt(formData.id_zone) : null,\r\n          details_lieu: formData.details_lieu || null,\r\n          latitude: formData.latitude ? parseFloat(formData.latitude) : null,\r\n          longitude: formData.longitude ? parseFloat(formData.longitude) : null,\r\n        },\r\n        meteo: {\r\n          direction_vent: formData.direction_vent || null,\r\n          force_vent: formData.force_vent ? parseInt(formData.force_vent) : null,\r\n          etat_mer: formData.etat_mer ? parseInt(formData.etat_mer) : null,\r\n          nebulosite: formData.nebulosite ? parseInt(formData.nebulosite) : null,\r\n        },\r\n        alertes: {\r\n          cedre_alerte: formData.cedre_alerte ? 1 : 0,\r\n          cross_alerte: formData.cross_alerte ? 1 : 0,\r\n          photo: formData.photo ? 1 : 0,\r\n          polrep: formData.polrep ? 1 : 0,\r\n          derive_mothy: formData.derive_mothy ? 1 : 0,\r\n          polmar_terre: formData.polmar_terre ? 1 : 0,\r\n          smp: formData.smp ? 1 : 0,\r\n          bsaa: formData.bsaa ? 1 : 0,\r\n          delai_appareillage: formData.delai_appareillage || null,\r\n        }\r\n      };\r\n\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // ENVOI DE LA REQUÊTE DE MODIFICATION\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      const response = await axios.put(`${API}/rapports/${id}/after`, {\r\n        rapport,\r\n        metaData\r\n      });\r\n\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // GÉNÉRATION DU DÉTAIL D'ACTION POUR L'HISTORIQUE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      function genererDetailAction(ancien, nouveau) {\r\n        console.log('Ancien rapport:', ancien);\r\n        const modifications = [];\r\n\r\n        // Détection des changements entre ancien et nouveau\r\n        for (const champ in nouveau) {\r\n          const ancienVal = ancien[champ];\r\n          const nouveauVal = nouveau[champ];\r\n\r\n          if (ancienVal !== nouveauVal) {\r\n            modifications.push(`${champ} : \"${ancienVal}\" → \"${nouveauVal}\"`);\r\n          }\r\n        }\r\n\r\n        return modifications.length > 0\r\n          ? `Champs modifiés :\\n- ${modifications.join('\\n- ')}`\r\n          : 'Aucune modification détectée';\r\n      }\r\n\r\n      const detail_action = genererDetailAction(ancienRapport, formData);\r\n\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      // AJOUT D'UNE ENTRÉE D'HISTORIQUE\r\n      // ─────────────────────────────────────────────────────────────────────\r\n      console.log('detail_action:', detail_action);\r\n      await axios.post(`${API}/rapports/historique`, {\r\n        id_rapport: id,\r\n        id_operateur: authData.Opid,\r\n        type_action: 'Modification Rapport',\r\n        date_action: new Date(new Date().getTime() + 2 * 60 * 60 * 1000).toISOString(),\r\n        detail_action\r\n      });\r\n\r\n      console.log('Rapport mis à jour avec succès:', response.data);\r\n      setSubmitStatus({ type: 'success', message: 'Rapport mis à jour avec succès!' });\r\n\r\n      // Redirection après succès\r\n      setTimeout(() => {\r\n        navigate('/liste-rapports');\r\n      }, 2000);\r\n      \r\n    } catch (error) {\r\n      console.error('Erreur lors de la mise à jour du rapport:', error);\r\n      setSubmitStatus({\r\n        type: 'error',\r\n        message: error.response?.data?.message || 'Une erreur est survenue lors de la mise à jour du rapport.'\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // AFFICHAGE CONDITIONNEL SELON L'ÉTAT DE CHARGEMENT ET D'ACCÈS\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  // État de chargement initial\r\n  if (loading) return (\r\n    <div className=\"loading-container\">\r\n      <div className=\"loading-spinner\"></div>\r\n      <p>Chargement des données du rapport...</p>\r\n    </div>\r\n  );\r\n\r\n  // État d'erreur de chargement\r\n  if (error) return (\r\n    <div className=\"error-container\">\r\n      <h2>Erreur</h2>\r\n      <p>{error}</p>\r\n      <button className=\"btn-primary\" onClick={() => navigate('/liste-rapports')}>\r\n        Retour à la liste des rapports\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  // Vérification des permissions en cours\r\n  if (!accessChecked) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Vérification des permissions...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Accès refusé\r\n  if (!hasAccess) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <h2>Accès refusé</h2>\r\n        <p>Vous n'avez pas les droits pour modifier ce rapport.</p>\r\n        <br></br>\r\n        <button className=\"btn-primary\" onClick={() => navigate('/liste-rapports')}>\r\n          Retour à la liste des rapports\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // LOGIQUE D'AFFICHAGE CONDITIONNEL DES CHAMPS\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  // Affichage du champ délai d'appareillage seulement si BSAA est coché\r\n  const showDelaiAppareillage = formData.bsaa;\r\n\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  // RENDU PRINCIPAL DU COMPOSANT - FORMULAIRE DE MODIFICATION\r\n  // ═══════════════════════════════════════════════════════════════════════════\r\n  \r\n  return (\r\n    <div className=\"rapport-container\">\r\n      {/* ───────────────────────────────────────────────────────────────────── */}\r\n      {/* EN-TÊTE DU FORMULAIRE                                                  */}\r\n      {/* ───────────────────────────────────────────────────────────────────── */}\r\n      <div className=\"rapport-header\">\r\n        <h1>Modifier Un rapport d'Evenement</h1>\r\n        <p className=\"rapport-subtitle\" style={{ fontSize: '0.9em', fontStyle: 'italic' }}>\r\n          Complétez tous les champs obligatoires (*) pour soumettre un nouveau rapport\r\n        </p>\r\n      </div>\r\n\r\n      {/* ───────────────────────────────────────────────────────────────────── */}\r\n      {/* FORMULAIRE PRINCIPAL DE MODIFICATION                                   */}\r\n      {/* ───────────────────────────────────────────────────────────────────── */}\r\n      <form className=\"rapport-form\" onSubmit={handleSubmit}>\r\n        \r\n        {/* ═══════════════════════════════════════════════════════════════════ */}\r\n        {/* SECTION 1 : INFORMATIONS GÉNÉRALES                                  */}\r\n        {/* ═══════════════════════════════════════════════════════════════════ */}\r\n        <div className=\"form-section\">\r\n          <h2>Informations Générales</h2>\r\n\r\n          {/* Titre du rapport */}\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"titre\">\r\n              Titre du rapport *\r\n              <span className=\"tooltip-icon\" title=\"Donnez un titre court et descriptif\">ℹ️</span>\r\n            </label>\r\n            <input\r\n              id=\"titre\"\r\n              type=\"text\"\r\n              name=\"titre\"\r\n              value={formData.titre}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder=\"Ex: Incident de déversement dans le secteur nord\"\r\n              required\r\n              maxLength=\"200\"\r\n            />\r\n          </div>\r\n\r\n          {/* Date et heure de l'événement */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"date_evenement\">\r\n                Date de l'événement *\r\n                <span className=\"tooltip-icon\" title=\"Date à laquelle l'événement s'est produit\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"date_evenement\"\r\n                type=\"date\"\r\n                name=\"date_evenement\"\r\n                value={formData.date_evenement}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"heure_evenement\">\r\n                Heure de l'événement *\r\n                <span className=\"tooltip-icon\" title=\"Heure à laquelle l'événement s'est produit\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"heure_evenement\"\r\n                type=\"time\"\r\n                name=\"heure_evenement\"\r\n                value={formData.heure_evenement}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ═══════════════════════════════════════════════════════════════════ */}\r\n        {/* SECTION 2 : CLASSIFICATION DE L'ÉVÉNEMENT                           */}\r\n        {/* ═══════════════════════════════════════════════════════════════════ */}\r\n        <div className=\"form-section\">\r\n          <h2>Classification de l'Événement</h2>\r\n\r\n          <div className=\"form-row\">\r\n            {/* Type d'événement avec filtrage des sous-types */}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"id_type_evenement\">\r\n                Type d'événement *\r\n                <span className=\"tooltip-icon\" title=\"Catégorie principale de l'événement\">ℹ️</span>\r\n              </label>\r\n              <select\r\n                id=\"id_type_evenement\"\r\n                name=\"id_type_evenement\"\r\n                value={formData.id_type_evenement}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                required\r\n              >\r\n                <option value=\"\">-- Sélectionner --</option>\r\n                {typesEvenement.map(type => (\r\n                  <option key={type.id_type_evenement} value={type.id_type_evenement}>\r\n                    {type.libelle}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Sous-type d'événement (filtré par le type sélectionné) */}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"id_sous_type_evenement\">\r\n                Précision du type d'événement\r\n                <span className=\"tooltip-icon\" title=\"Spécification du type d'événement\">ℹ️</span>\r\n              </label>\r\n              <select\r\n                id=\"id_sous_type_evenement\"\r\n                name=\"id_sous_type_evenement\"\r\n                value={formData.id_sous_type_evenement}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                disabled={!formData.id_type_evenement}\r\n              >\r\n                <option value=\"\">-- Sélectionner --</option>\r\n                {filteredSousTypes.map(sousType => (\r\n                  <option key={sousType.id_sous_type_evenement} value={sousType.id_sous_type_evenement}>\r\n                    {sousType.libelle}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Origine de l'événement */}\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"id_origine_evenement\">\r\n              Origine de l'événement\r\n              <span className=\"tooltip-icon\" title=\"Source ou cause de l'événement\">ℹ️</span>\r\n            </label>\r\n            <select\r\n              id=\"id_origine_evenement\"\r\n              name=\"id_origine_evenement\"\r\n              value={formData.id_origine_evenement}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"\">-- Sélectionner --</option>\r\n              {originesEvenement.map(origine => (\r\n                <option key={origine.id_origine_evenement} value={origine.id_origine_evenement}>\r\n                  {origine.libelle}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ...existing code... */}\r\n        <div className=\"form-section\">\r\n          <h2>Cible de l'Événement</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"libelle\">\r\n              Type de cible\r\n              <span className=\"tooltip-icon\" title=\"Type d'objet ou entité ciblé par l'événement\">ℹ️</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"libelle\"\r\n              name=\"libelle\"\r\n              value={formData.libelle}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder=\"Ex: Navire, Installation, etc.\"\r\n            >\r\n            </input>\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nom_cible\">\r\n                Nom de la cible\r\n                <span className=\"tooltip-icon\" title=\"Nom du navire, de l'installation, etc.\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"nom_cible\"\r\n                type=\"text\"\r\n                name=\"nom_cible\"\r\n                value={formData.nom_cible}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: Navire Cargo XYZ\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"pavillon_cible\">\r\n                Pavillon\r\n                <span className=\"tooltip-icon\" title=\"Pays d'enregistrement (pour navires)\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"pavillon_cible\"\r\n                type=\"text\"\r\n                name=\"pavillon_cible\"\r\n                value={formData.pavillon_cible}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: France\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"immatriculation\">\r\n                Immatriculation\r\n                <span className=\"tooltip-icon\" title=\"MMSI/IMO Info immatriculation\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"immatriculation\"\r\n                type=\"text\"\r\n                name=\"immatriculation\"\r\n                value={formData.immatriculation}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: MMSI/IMO Info immatriculation\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"TypeProduit\">\r\n                Type Produit\r\n                <span className=\"tooltip-icon\" title=\"Type Produit\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"TypeProduit\"\r\n                type=\"text\"\r\n                name=\"TypeProduit\"\r\n                value={formData.TypeProduit}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: fioul lourd, Huile, etc.\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"QuantiteProduit\">\r\n                Quantite Produit\r\n                <span className=\"tooltip-icon\" title=\"Quantite de Produit\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"QuantiteProduit\"\r\n                type=\"text\"\r\n                name=\"QuantiteProduit\"\r\n                value={formData.QuantiteProduit}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: 1000L, 1000T, etc.\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* Section pour la localisation */}\r\n        <div className=\"form-section\">\r\n          <h2>Localisation de l'Événement</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"id_zone\">\r\n              Zone géographique *\r\n              <span className=\"tooltip-icon\" title=\"Mer ou zone maritime où s'est produit l'événement\">ℹ️</span>\r\n            </label>\r\n            <select\r\n              id=\"id_zone\"\r\n              name=\"id_zone\"\r\n              value={formData.id_zone}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              required\r\n            >\r\n              <option value=\"\">-- Sélectionner une zone --</option>\r\n              {zonesGeographiques.map(zone => (\r\n                <option key={zone.id_zone} value={zone.id_zone}>\r\n                  {zone.nom_zone}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"details_lieu\">\r\n              Précision sur le lieu\r\n              <span className=\"tooltip-icon\" title=\"Description précise de l'emplacement\">ℹ️</span>\r\n            </label>\r\n            <textarea\r\n              id=\"details_lieu\"\r\n              name=\"details_lieu\"\r\n              value={formData.details_lieu}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder=\"Décrivez l'emplacement précis (ex: 2 milles nautiques au sud du port de...\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"latitude\">\r\n                Latitude\r\n                <span className=\"tooltip-icon\" title=\"Format décimal (ex: 43.296398)\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"latitude\"\r\n                type=\"text\"\r\n                name=\"latitude\"\r\n                value={formData.latitude}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: 43.296398\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"longitude\">\r\n                Longitude\r\n                <span className=\"tooltip-icon\" title=\"Format décimal (ex: 5.369779)\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"longitude\"\r\n                type=\"text\"\r\n                name=\"longitude\"\r\n                value={formData.longitude}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                placeholder=\"Ex: 5.369779\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"map-container\">\r\n            <label>Sélectionnez un point sur la carte (cliquez pour définir les coordonnées)</label>\r\n            <div\r\n              ref={mapRef}\r\n              id=\"map\"\r\n              className=\"location-map\"\r\n              style={{ height: '300px', width: '100%', marginTop: '10px' }}\r\n            >\r\n              {!mapInitialized && <div className=\"map-loading\">Chargement de la carte...</div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Section pour les conditions météorologiques */}\r\n        <div className=\"form-section\">\r\n          <h2>Conditions Météorologiques</h2>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"direction_vent\">\r\n                Direction du vent\r\n                <span className=\"tooltip-icon\" title=\"Direction d'où vient le vent\">ℹ️</span>\r\n              </label>\r\n              <select\r\n                id=\"direction_vent\"\r\n                name=\"direction_vent\"\r\n                value={formData.direction_vent}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\">-- Sélectionner --</option>\r\n                <option value=\"N\">Nord (N)</option>\r\n                <option value=\"NE\">Nord-Est (NE)</option>\r\n                <option value=\"E\">Est (E)</option>\r\n                <option value=\"SE\">Sud-Est (SE)</option>\r\n                <option value=\"S\">Sud (S)</option>\r\n                <option value=\"SO\">Sud-Ouest (SO)</option>\r\n                <option value=\"O\">Ouest (O)</option>\r\n                <option value=\"NO\">Nord-Ouest (NO)</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"maree\">\r\n                Marée\r\n                <span className=\"tooltip-icon\" title=\"État actuel de la marée (observation au moment du rapport)\">ℹ️</span>\r\n              </label>\r\n              <select\r\n                id=\"maree\"\r\n                name=\"maree\"\r\n                value={formData.maree}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\">-- Sélectionner --</option>\r\n                <option value=\"haute\">Haute mer</option>\r\n                <option value=\"basse\">Basse mer</option>\r\n                <option value=\"montante\">Marée montante</option>\r\n                <option value=\"descendante\">Marée descendante</option>\r\n              </select>\r\n            </div>\r\n\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"force_vent\">\r\n                Force du vent (0-12)\r\n                <span className=\"tooltip-icon\" title=\"Échelle de Beaufort de 0 à 12\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                type=\"range\"\r\n                id=\"force_vent\"\r\n                name=\"force_vent\"\r\n                min=\"0\"\r\n                max=\"12\"\r\n                value={formData.force_vent}\r\n                onChange={handleChange}\r\n                className=\"form-control-range\"\r\n              />\r\n              <div className=\"range-value\">{formData.force_vent || '0'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"etat_mer\">\r\n                État de la mer (0-9)\r\n                <span className=\"tooltip-icon\" title=\"Échelle de Douglas de 0 à 9\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                type=\"range\"\r\n                id=\"etat_mer\"\r\n                name=\"etat_mer\"\r\n                min=\"0\"\r\n                max=\"9\"\r\n                value={formData.etat_mer}\r\n                onChange={handleChange}\r\n                className=\"form-control-range\"\r\n              />\r\n              <div className=\"range-value\">{formData.etat_mer || '0'}</div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nebulosite\">\r\n                Nébulosité (0-9)\r\n                <span className=\"tooltip-icon\" title=\"Échelle de couverture nuageuse de 0 à 9\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                type=\"range\"\r\n                id=\"nebulosite\"\r\n                name=\"nebulosite\"\r\n                min=\"0\"\r\n                max=\"9\"\r\n                value={formData.nebulosite}\r\n                onChange={handleChange}\r\n                className=\"form-control-range\"\r\n              />\r\n              <div className=\"range-value\">{formData.nebulosite || '0'}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Section pour les contacts et alertes */}\r\n        <div className=\"form-section\">\r\n          <h2>Contacts et Alertes</h2>\r\n\r\n          <div className=\"checkbox-grid\">\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"cedre_alerte\"\r\n                type=\"checkbox\"\r\n                name=\"cedre_alerte\"\r\n                checked={formData.cedre_alerte}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"cedre_alerte\">CEDRE alerté</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"cross_alerte\"\r\n                type=\"checkbox\"\r\n                name=\"cross_alerte\"\r\n                checked={formData.cross_alerte}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"cross_alerte\">CROSS alerté</label>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"photo\"\r\n                type=\"checkbox\"\r\n                name=\"photo\"\r\n                checked={formData.photo}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"photo\">Photo</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"message_polrep\"\r\n                type=\"checkbox\"\r\n                name=\"message_polrep\"\r\n                checked={formData.message_polrep}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"message_polrep\">POLREP</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"derive_mothy\"\r\n                type=\"checkbox\"\r\n                name=\"derive_mothy\"\r\n                checked={formData.derive_mothy}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"derive_mothy\">Dérive MOTHY</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"polmar_terre\"\r\n                type=\"checkbox\"\r\n                name=\"polmar_terre\"\r\n                checked={formData.polmar_terre}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"polmar_terre\">POLMAR Terre</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"smp\"\r\n                type=\"checkbox\"\r\n                name=\"smp\"\r\n                checked={formData.smp}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"smp\">SMP</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"sensible_proximite\"\r\n                type=\"checkbox\"\r\n                name=\"sensible_proximite\"\r\n                checked={formData.sensible_proximite}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"sensible_proximite\">Site sensible à proximité</label>\r\n            </div>\r\n\r\n            <div className=\"checkbox-item\">\r\n              <input\r\n                id=\"bsaa\"\r\n                type=\"checkbox\"\r\n                name=\"bsaa\"\r\n                checked={formData.bsaa}\r\n                onChange={handleChange}\r\n              />\r\n              <label htmlFor=\"bsaa\">BSAA</label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Afficher le délai d'appareillage seulement si BSAA est coché */}\r\n          {showDelaiAppareillage && (\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"delai_appareillage\">\r\n                Délai d'appareillage\r\n                <span className=\"tooltip-icon\" title=\"Date et heure d'appareillage pour BSAA\">ℹ️</span>\r\n              </label>\r\n              <input\r\n                id=\"delai_appareillage\"\r\n                type=\"datetime-local\"\r\n                name=\"delai_appareillage\"\r\n                value={formData.delai_appareillage}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n          )}\r\n          <br></br>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"moyen_proximite\">Moyens à proximité</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"moyen_proximite\"\r\n                name=\"moyen_proximite\"\r\n                value={formData.moyen_proximite}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"moyen_depeche\">Moyens dépêchés sur zone</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"moyen_depeche\"\r\n                name=\"moyen_depeche\"\r\n                value={formData.moyen_depeche}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"moyen_marine_etat\">Moyens maritimes ou de l’État</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"moyen_marine_etat\"\r\n              name=\"moyen_marine_etat\"\r\n              value={formData.moyen_marine_etat}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"risque_court_terme\">Risque prévisible à court terme</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"risque_court_terme\"\r\n                name=\"risque_court_terme\"\r\n                value={formData.risque_court_terme}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"risque_moyen_long_terme\">\r\n                Risque prévisible à moyen et long terme\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"risque_moyen_long_terme\"\r\n                name=\"risque_moyen_long_terme\"\r\n                value={formData.risque_moyen_long_terme}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* Section Description Détaillée */}\r\n        <div className=\"form-section\">\r\n          <h2>Description Détaillée</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"description_globale\">\r\n              Description globale de l'événement *\r\n              <span className=\"tooltip-icon\" title=\"Décrivez en détail ce qui s'est passé\">ℹ️</span>\r\n            </label>\r\n            <textarea\r\n              id=\"description_globale\"\r\n              name=\"description_globale\"\r\n              value={formData.description_globale}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder=\"Décrivez l'événement de manière détaillée : que s'est-il passé, où, quand, comment...\"\r\n              required\r\n              rows=\"6\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Boutons d'action */}\r\n        <div className=\"form-actions\">\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className={`btn-primary ${isSubmitting ? 'loading' : ''}`}\r\n            disabled={isSubmitting}\r\n          >\r\n            {isSubmitting ? 'Modification ...' : 'Modifier le rapport'}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"form-actions\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-secondary\"\r\n            onClick={handleArchiver}\r\n            style={{ backgroundColor: '#a00', color: 'white', padding: '10px 20px', fontSize: '1rem', marginTop: '1rem' }}\r\n          >\r\n            🗃️ Archiver ce rapport\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <br></br>\r\n      {submitStatus && (\r\n        <div className={`status-message ${submitStatus.type}`}>\r\n          {submitStatus.message}\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n  );\r\n\r\n};\r\n\r\nexport default ModifierRapport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}